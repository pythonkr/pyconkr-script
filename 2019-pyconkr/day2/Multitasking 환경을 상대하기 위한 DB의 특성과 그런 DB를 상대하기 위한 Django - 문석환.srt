1
00:00:00,000 --> 00:00:03,490
대해서 이야기를 하게 되는 현

2
00:00:03,490 --> 00:00:08,600
현재 디비락 타이머 5분으로 매우 고생하고 있는 피부판

3
00:00:08,600 --> 00:00:10,100
데이페이먼트 플러스 시스템

4
00:00:10,100 --> 00:00:14,020
개발자 문석환 이라고 합니다

5
00:00:14,020 --> 00:00:17,380
어 지금 기억하시는 분 이 얼마나 있을지는 모르겠으나

6
00:00:17,380 --> 00:00:23,810
저 왼쪽에 있는 저런 환경에 싱글쓰레드 싱글캐스크

7
00:00:23,810 --> 00:00:27,620
어떤 저희 시스템이 있을 때가 있었습니다

8
00:00:27,620 --> 00:00:33,270
단 한 대 요즘에 저기 보이시는 당장 작은 기계 조차도

9
00:00:33,270 --> 00:00:35,320
멀티 멀티 데스티니 굉장히

10
00:00:35,320 --> 00:00:38,680
기본적으로 지원을 하고 있지요

11
00:00:38,680 --> 00:00:40,510
이렇게 로컬 시스템에서도 되게

12
00:00:40,510 --> 00:00:43,420
손쉽게 멀티테스킹을 전화하고 있는데

13
00:00:43,420 --> 00:00:46,840
그런 상황에서 웹서비스에서 멀티태스킹이 안 된다는 건

14
00:00:46,840 --> 00:00:49,980
되게 말이 안 되는 상황이 있겠죠

15
00:00:49,980 --> 00:00:54,110
이렇게 멀티태스킹 시스템에서 무언가를 작업을 할 때

16
00:00:54,110 --> 00:00:56,640
발생하고 발생하는 가자

17
00:00:56,640 --> 00:01:00,120
사진 현상 중에 하나가 바로 레이스 컨디션입니다

18
00:01:00,120 --> 00:01:01,910
레이스 컨디션은 무엇이냐면

19
00:01:01,910 --> 00:01:04,010
여러 프로세스가 공유된 자원

20
00:01:04,010 --> 00:01:05,800
하나의 공유된 차원의돌 했을 때

21
00:01:05,800 --> 00:01:08,910
보통 레이스컨디션 발생할 수 있다라고 얘기를 하는데요

22
00:01:08,910 --> 00:01:12,110
옆에 그림에서 보시다시피 아이스크림은 하고

23
00:01:12,110 --> 00:01:14,270
사람은 다섯 명이면 굉장히 그

24
00:01:14,270 --> 00:01:17,860
아이스크림 먹기 위해 큰 고생을 하겠죠

25
00:01:17,860 --> 00:01:21,440
웹 서비스에서는 귀가 되게 대표적인 거예요

26
00:01:21,440 --> 00:01:23,570
근데 솔직히 락

27
00:01:23,570 --> 00:01:29,680
타임아웃이 라는 에러메시지를 볼 수 있게 됩니다

28
00:01:29,680 --> 00:01:32,910
그 웹 서비스에서는 리퀘스트가 굉장히

29
00:01:32,910 --> 00:01:35,230
동시다발적으로 접근을 하게 되고

30
00:01:35,230 --> 00:01:37,980
그 다음에 그 우리 퀘스트들이 공유된 자원인 TV

31
00:01:37,980 --> 00:01:40,160
에 접속을 하게 되면 아까 얘기했던 락

32
00:01:40,160 --> 00:01:43,550
타임아웃이 되게 쉽게 발생하는데요

33
00:01:43,550 --> 00:01:45,290
일한 동시다발적인 리퀘스트

34
00:01:45,290 --> 00:01:48,380
네 상관 관계는 우리가 흔히 사용하는 ID 에

35
00:01:48,380 --> 00:01:51,300
로컬 디버깅툴 만으로는 되게 확인이 어려워요

36
00:01:51,300 --> 00:01:54,310
최대한 시나리오를 선정해서 어

37
00:01:54,310 --> 00:01:56,420
그런 로컬 테스트를 해 볼 수 있으나

38
00:01:56,420 --> 00:02:00,040
결과적으로 동시다발적인 게스트는 우리가 거의 랜덤이라고

39
00:02:00,040 --> 00:02:03,040
현이 부르는 형태의 모습을 뛰기 때문에

40
00:02:03,040 --> 00:02:07,060
모델 시나리오를 테스트 하는 게 매우 어렵죠

41
00:02:07,060 --> 00:02:11,070
그러면 이거 디버깅 불가능한 야 라고 한다면

42
00:02:11,070 --> 00:02:12,880
자기가 이런 많은 분들

43
00:02:12,880 --> 00:02:14,670
싫어하시는 이런 을 이용해서

44
00:02:14,670 --> 00:02:19,520
넘버링을 통해서 저희가 디버깅 가능하게 됨

45
00:02:19,520 --> 00:02:22,740
따라서 이번 세션의 목적은 눈 보호

46
00:02:22,740 --> 00:02:24,450
기능을 위한 수를 알려 드리는 게 저희

47
00:02:24,450 --> 00:02:28,500
이번 세계 목표입니다

48
00:02:28,500 --> 00:02:32,480
일단은 공유된 자원 dbms 공유된 자원이고

49
00:02:32,480 --> 00:02:36,510
edms 가 동시다발적인 요청을 안정적으로 처리하기 위해서

50
00:02:36,510 --> 00:02:38,990
갖고 있는 책상들이 무엇인지 알아보고

51
00:02:38,990 --> 00:02:42,040
특성들을 정부에서 어떻게 활용해서

52
00:02:42,040 --> 00:02:45,180
우리가 레이스컨디션 들을 해결할 수 있는지

53
00:02:45,180 --> 00:02:53,150
이번 섹션에서 이야기해보려고 이미 많은 분들이 알고 계시겠지만

54
00:02:53,150 --> 00:02:55,490
아마 기억을 다 못 하실 수도 있으니

55
00:02:55,490 --> 00:02:59,160
제가 잠깐 짧게 기본적인 내용을 주고 나가려고 합니다

56
00:02:59,160 --> 00:03:01,970
dbms 의 가장 기본적인 개념인 트랜잭션과

57
00:03:01,970 --> 00:03:05,890
lcd 에 대한 특성 인데요

58
00:03:05,890 --> 00:03:07,770
저녁 저녁 기본적으로 여러 가지

59
00:03:07,770 --> 00:03:11,970
작업들의 세트라고 이야기하시면 생각하시면 됩니다

60
00:03:11,970 --> 00:03:14,330
디비 오퍼레이션에 기본적인 다니는데요

61
00:03:14,330 --> 00:03:15,610
옆에 그림에서 보시다시피

62
00:03:15,610 --> 00:03:19,470
예를 들어서 특정 발란스 에다가 있고

63
00:03:19,470 --> 00:03:21,260
그다음에 거기 무슨 작업을 하고

64
00:03:21,260 --> 00:03:24,400
그다음에 거기 다 기록을 하는 이걸 하나의 묶음으로 묶어서

65
00:03:24,400 --> 00:03:26,650
보통 DB 는 처리하게 되고

66
00:03:26,650 --> 00:03:31,070
이런 묶음을 보통 오리엔테이션 이라고 불러도 됩니다

67
00:03:31,070 --> 00:03:32,800
두 번째는 싫은데요

68
00:03:32,800 --> 00:03:34,770
애시드라 는 특성은 사실

69
00:03:34,770 --> 00:03:40,330
내가 제 특성에 앞 글자를 따서 만든 책상 드린대요

70
00:03:40,330 --> 00:03:45,990
sda 는 어떤 음식들을 이야기합니다

71
00:03:45,990 --> 00:03:49,720
아톰 CT 는 패션의 모든 작업들이 모두 다

72
00:03:49,720 --> 00:03:50,810
반영이 되거나

73
00:03:50,810 --> 00:03:53,610
혹은 하나 내려가 난다면 모두 다 가면 되지 않고

74
00:03:53,610 --> 00:03:56,650
원상복구가 되는 기본적인 특성을 이야기냐고요

75
00:03:56,650 --> 00:04:01,140
예를 들어서 그림에서처럼 저녁 시간에 다가 9AY 라이트비

76
00:04:01,140 --> 00:04:03,750
두 가지의 작업 있다고 했을 때

77
00:04:03,750 --> 00:04:05,940
만약 하나라도 오류가 난다고 한다면

78
00:04:05,940 --> 00:04:09,760
아예 모든 라이트가 일어나지 않고 모드를 - 되거나

79
00:04:09,760 --> 00:04:11,940
만약 라이트가 하나 드러난다면 꺼

80
00:04:11,940 --> 00:04:15,550
다른 라이더 무조건 일어나는 그런 책상

81
00:04:15,550 --> 00:04:17,130
아토미 시티 라고 얘기 합니다

82
00:04:17,130 --> 00:04:18,940
그래서 이런 특성을 지켜주게 되면

83
00:04:18,940 --> 00:04:24,070
그 디비에 작업은 아토믹 하다고 이야기합니다

84
00:04:24,070 --> 00:04:28,420
두 번째 C 는 컨시스턴트 얘기하는데요

85
00:04:28,420 --> 00:04:31,180
이는 미리 정의된 규칙에 의해서

86
00:04:31,180 --> 00:04:34,300
만 데이터 수정이 가능한 특성을 이야기합니다

87
00:04:34,300 --> 00:04:35,430
이게 무슨 말이고 하니

88
00:04:35,430 --> 00:04:37,220
예를 들어서 저희가

89
00:04:37,220 --> 00:04:40,140
어떤 특정 컬럼에 넣을 값을 못 들어가게

90
00:04:40,140 --> 00:04:42,880
퍼센트를 적용했다고 한다

91
00:04:42,880 --> 00:04:45,210
dbms 에게 우리가 2컬럼 에다가

92
00:04:45,210 --> 00:04:47,060
넓어서 추가하려고 할 때

93
00:04:47,060 --> 00:04:48,860
dbms 가 어 돈 넣을 수 없어

94
00:04:48,860 --> 00:04:53,840
나는 에러를 내뱉는 것을 바로 컨시스턴시 라고 얘기합니다

95
00:04:53,840 --> 00:04:57,530
3RD innis LA 하나인데요

96
00:04:57,530 --> 00:05:01,680
아이솔레이션 은 어떤 특정 도티라고 얘기할게요

97
00:05:01,680 --> 00:05:04,430
이티 에서 진행하는 작업이 다른 색상

98
00:05:04,430 --> 00:05:08,510
Q 에게 보여 주는 자가 정도를 나타내는 특성입니다

99
00:05:08,510 --> 00:05:12,160
보통 아이솔레이션 은 레벨로 이야기를 하는데요

100
00:05:12,160 --> 00:05:14,850
아이솔레이션 레벨이 높으면 높을수록

101
00:05:14,850 --> 00:05:17,190
티에서 변경한 데이터가 키가

102
00:05:17,190 --> 00:05:18,400
커밋을 하기 전까지는

103
00:05:18,400 --> 00:05:23,420
다른 펜션 들에게 보이지 않는 특성을 이야기합니다

104
00:05:23,420 --> 00:05:25,020
아이솔레이션 레벨에 대해서

105
00:05:25,020 --> 00:05:27,720
저희가 후반부에서 자세히 설명을 할 건데요

106
00:05:27,720 --> 00:05:30,370
그러면 그걸 듣기 전에

107
00:05:30,370 --> 00:05:33,540
여기서 우리가 꼭 기억해야 돼 내용이 있다고 한다면

108
00:05:33,540 --> 00:05:35,590
아이솔레이션 레벨은 들간에

109
00:05:35,590 --> 00:05:40,120
특성을 이야기합니다 이 한 가지만 기억해주시면

110
00:05:40,120 --> 00:05:43,740
있다는데

111
00:05:43,740 --> 00:05:46,590
마지막으로 뒤는 듀레이션 인데요

112
00:05:46,590 --> 00:05:49,030
dragon 결과적으로 하나 있으니

113
00:05:49,030 --> 00:05:50,980
많이 한 번이라도 반영되었다 라고 한다면

114
00:05:50,980 --> 00:05:54,270
시스템이 글씨가 되든 어떤 어떤 문제가 발생을 하던간에

115
00:05:54,270 --> 00:05:55,940
그게 데이터는 절대적으로 dba

116
00:05:55,940 --> 00:06:00,240
기록이 되어 있는 특성을 이야기합니다

117
00:06:00,240 --> 00:06:03,490
그러면 우리가 이제 집에 다 특성에 대해서 알아봤는데

118
00:06:03,490 --> 00:06:05,900
이제 왜 무슨 문제가 발생할 수 있고

119
00:06:05,900 --> 00:06:09,740
뭐가 어떻게 갈 수 있는지에 대해서 얘기하면 될까 했을 때

120
00:06:09,740 --> 00:06:12,200
사실 아까 제가 처음에 얘기했던 락타이마사지

121
00:06:12,200 --> 00:06:15,040
관련 아기 란 말은 아예 얘기를 안 했잖아요

122
00:06:15,040 --> 00:06:20,700
그래서 제가 나게 대해서 이야기를 드리려고 합니다

123
00:06:20,700 --> 00:06:22,420
악을 이야기하기 전에

124
00:06:22,420 --> 00:06:26,050
저희가 아까 얘기했던 멀티태스킹 환경에 대해서 이해 하면

125
00:06:26,050 --> 00:06:28,950
저희가 보통 멀티태스킹 이라고 한다는 것은

126
00:06:28,950 --> 00:06:33,100
여러 작업들이 동시다발적으로 진행된다고 이야기 합니다

127
00:06:33,100 --> 00:06:36,320
하지만 실제로는 싱글코어 를 기준으로 얘기했을 때

128
00:06:36,320 --> 00:06:40,320
1시간 하나의 작업식 밖에 할 수가 없는

129
00:06:40,320 --> 00:06:43,400
그래서 어떤 현상이 일어나는 야 옆에 그림에서처럼

130
00:06:43,400 --> 00:06:45,780
일상생활에서 쉽게 볼 수 있는 환경이죠

131
00:06:45,780 --> 00:06:47,240
여러 작업들이 1시

132
00:06:47,240 --> 00:06:51,340
표를 사용하기 위해서 한 줄로 기다리게 됩니다

133
00:06:51,340 --> 00:06:55,910
이를 디비에 작업과 한번 연관시켜서 얘기해 볼게요

134
00:06:55,910 --> 00:06:58,500
어 하나의 계좌에 동시에

135
00:06:58,500 --> 00:07:04,670
입금과 출금이 발생하는 경우를 이야기해 보겠습니다

136
00:07:04,670 --> 00:07:08,350
어 내 편에는 입금 프로세스가 있고

137
00:07:08,350 --> 00:07:10,250
우측에는 출근 벌써 쓰라고요

138
00:07:10,250 --> 00:07:13,830
가운데는 현재 밸런스 디비에 기록을 보여 주고 있어요

139
00:07:13,830 --> 00:07:18,400
그래서 되게 찰나의 시간으로 입금이 먼저 들어왔다는 가정하에

140
00:07:18,400 --> 00:07:22,760
입금 프로세스가 먼저 있는 값을 읽으려고 합니다

141
00:07:22,760 --> 00:07:23,710
그러면 지금 현재

142
00:07:23,710 --> 00:07:25,280
발란스에 기록되어 있는 1,000원에

143
00:07:25,280 --> 00:07:28,210
금액을 읽어 오겠죠

144
00:07:28,210 --> 00:07:30,540
그러고 컨텍스트스위칭 일어나게 되면서

145
00:07:30,540 --> 00:07:33,550
출근 플스가 진행되었다고 과정을 그러면

146
00:07:33,550 --> 00:07:36,350
출금 역시 달라스에서 값을 7

147
00:07:36,350 --> 00:07:40,370
현대 현재 기록되어 있는 밸런스에 값은 천 원이죠

148
00:07:40,370 --> 00:07:44,010
가져옵니다 그러고 다시 컨텍스트스위칭 일어나서

149
00:07:44,010 --> 00:07:46,160
입금 플스가 진행이 되는데

150
00:07:46,160 --> 00:07:49,690
입금은 증가시키는 생일이니까

151
00:07:49,690 --> 00:07:52,300
처음에 나가서 나를 더 했다고 이야기를 하고

152
00:07:52,300 --> 00:07:54,400
그렇게 되면 2,000원이 나와서 이제 2,000원

153
00:07:54,400 --> 00:07:57,570
이란 기록을 뒤에 하게 되겠죠

154
00:07:57,570 --> 00:08:01,000
그리고 입금은 내가 행복하게 플러스존

155
00:08:01,000 --> 00:08:04,260
그러면 입금이 프로스트가 종료가 되었으니까

156
00:08:04,260 --> 00:08:07,000
이번에는 출근 프로세스를 마무리 하려고 해요

157
00:08:07,000 --> 00:08:11,010
근데 출근해서 하는 게 아까 이미 일을 했기 때문에

158
00:08:11,010 --> 00:08:13,490
현재 밸런스 4천 원이라고 기억을 하고 있고

159
00:08:13,490 --> 00:08:17,930
거기서 1,000원을 뺏기 때문에 영원히 기억하게 그렇게 되면서

160
00:08:17,930 --> 00:08:22,780
밸런스는 마지막으로 결과를 영업만 남게되는 눈 뜨고

161
00:08:22,780 --> 00:08:25,350
돈이 사라지는 마법을 영업입니다

162
00:08:25,350 --> 00:08:28,760
그러면 이 마법 호근이 공명의 함정

163
00:08:28,760 --> 00:08:31,460
어떻게 해결할 수 있을까요

164
00:08:31,460 --> 00:08:33,790
그 때 사용할 수 있는 게 바로 가기

165
00:08:33,790 --> 00:08:35,690
저희 가락 을 사용 해서

166
00:08:35,690 --> 00:08:37,770
마냥 똑같은 프로세스를 진행하게 한다면

167
00:08:37,770 --> 00:08:41,490
어떤 시나리오가 나오는지 이 그림에서 볼 수가 있어요

168
00:08:41,490 --> 00:08:44,340
아까 유사하게 입금이 먼저 실행이 되고요

169
00:08:44,340 --> 00:08:48,230
입금은 밸런스 얘가 오게 됩니다

170
00:08:48,230 --> 00:08:49,320
그러고선 테스트 스위칭

171
00:08:49,320 --> 00:08:53,980
열나면서 출금이 출금이 리드를 시도하게 되는데

172
00:08:53,980 --> 00:08:57,580
나게 위해서 출금은 금액을 보지 못하고

173
00:08:57,580 --> 00:08:59,380
기다리게 됩니다

174
00:08:59,380 --> 00:09:02,340
그러면 다시 입금으로 프로세스로 넘어가서

175
00:09:02,340 --> 00:09:05,110
입금은 아까 같은 행동을 통해서 2,000원을

176
00:09:05,110 --> 00:09:06,760
밸런스 기록을 하게 되고

177
00:09:06,760 --> 00:09:10,360
2+4 끝났을 때 출근 벌써 돌아가면서

178
00:09:10,360 --> 00:09:12,640
이번에는 이제 약을 갖고 인사하면 없기 때문에

179
00:09:12,640 --> 00:09:15,530
자신이 다시 발란스를 읽어서 2000원에서 천

180
00:09:15,530 --> 00:09:19,140
원 빼서 정확하게 1,000원만 남기는

181
00:09:19,140 --> 00:09:23,760
아주 행복한 시나리오를 만들게 됩니다

182
00:09:23,760 --> 00:09:26,000
이렇게 락을 이용하게 되면

183
00:09:26,000 --> 00:09:31,620
더 데이터를 안정적으로 다를 수 있게 돼 약에 대해서

184
00:09:31,620 --> 00:09:34,270
그러면 조금 더 이야기를 해 볼게요

185
00:09:34,270 --> 00:09:40,730
dbms 에서는 기본적으로 두가지 종류의 닭이 있다고 이야기합니다

186
00:09:40,730 --> 00:09:43,760
첫 번째는 라이트랑 인데요

187
00:09:43,760 --> 00:09:46,800
라이트라고 말 그대로 그 기록하는 라디오 있다

188
00:09:46,800 --> 00:09:48,280
기록 갈 때 쓰는 아니고요

189
00:09:48,280 --> 00:09:50,400
그 다음에 일하게 특성으로서

190
00:09:50,400 --> 00:09:54,960
만약에 같은 로우에 다른 색상의 접근하려고 한다면

191
00:09:54,960 --> 00:09:58,040
라이트 를 위해서는 리드를 위해서든 모두 다

192
00:09:58,040 --> 00:09:59,150
블랙 가게 됩니다

193
00:09:59,150 --> 00:10:04,010
따라서 만약에 펜션이 먼저 라이트 없다 라고 한다면

194
00:10:04,010 --> 00:10:05,810
다른 펜션들은 리드를 하든

195
00:10:05,810 --> 00:10:07,600
라이트를 하든 모두

196
00:10:07,600 --> 00:10:10,640
그냥 계속 기다리게 되는 현상을 발생합니다

197
00:10:10,640 --> 00:10:13,440
두 번째는 위드락 인데요

198
00:10:13,440 --> 00:10:16,130
어 얘는 아까 라이트라는 다르게

199
00:10:16,130 --> 00:10:20,850
다른 펜션이 만약에 라이트를 시도하게 되면은 개를 블록 하지만

200
00:10:20,850 --> 00:10:24,780
너희들이 시도하는 것은 허용을 하기

201
00:10:24,780 --> 00:10:27,710
그래서 이런 두 가지 낙타 일이 있고

202
00:10:27,710 --> 00:10:32,210
추가적으로 이 그 데이터를 더 안정적으로 달력에 위해서

203
00:10:32,210 --> 00:10:34,010
투페이스 likey likey

204
00:10:34,010 --> 00:10:36,920
라는 프로토콜 조차

205
00:10:36,920 --> 00:10:41,410
dbms 에서는 정리하고 있습니다 이 프로토콜은 무엇이냐고

206
00:10:41,410 --> 00:10:43,680
무엇인지 설명을 해 드리면

207
00:10:43,680 --> 00:10:49,490
첫 번째로 익스팬딩 체이스라는 페이스가 있는데요 이 상황은

208
00:10:49,490 --> 00:10:54,650
락을 얻을 수는 있지만 놓을순 상태를 이야기합니다

209
00:10:54,650 --> 00:10:56,960
두 번째는 씽 페이스는 싱킹

210
00:10:56,960 --> 00:10:59,820
페이스는 락을 거꾸로 놓을 수 있지만

211
00:10:59,820 --> 00:11:02,750
얻을 수는 없는 상태를 이야기 합니다

212
00:11:02,750 --> 00:11:09,020
그리고 dbms 는 데이터의 안정성을 지키기 위해서

213
00:11:09,020 --> 00:11:12,870
펜션이 만약에 필요하다 라고 한다면 이 두 가지 페이스 중에

214
00:11:12,870 --> 00:11:18,950
하나는 무조건 속해야 되는 강제성을 갖고 있습니다

215
00:11:18,950 --> 00:11:21,950
이게 무슨 말이냐 라고 한다면

216
00:11:21,950 --> 00:11:25,250
만약 하나 했더니 낙을 하나라도 놓게 된다

217
00:11:25,250 --> 00:11:26,340
자신이 만약 그러고 나서

218
00:11:26,340 --> 00:11:29,250
추가적으로 뭔가 얻으려고 하려고 한다면

219
00:11:29,250 --> 00:11:31,280
그렇게 하지 못하게 하고

220
00:11:31,280 --> 00:11:32,450
네가 갖고 있는 너가 못 온다

221
00:11:32,450 --> 00:11:33,920
그다음에 내가 없게 해 줄게

222
00:11:33,920 --> 00:11:38,360
나는 형태로 포토콜 만들게 된 겁니다

223
00:11:38,360 --> 00:11:42,650
그래서 일반도로 텐션은 익스팬딩 페이스를 시작을 해서 퍼밋

224
00:11:42,650 --> 00:11:44,220
혹은 롤백을 하고

225
00:11:44,220 --> 00:11:46,260
그다음에 실링팬 실링팬 에서

226
00:11:46,260 --> 00:11:48,970
락을 모두 다 높게 됩니다

227
00:11:48,970 --> 00:11:51,640
아 그러면 낙 되게 좋은 거네

228
00:11:51,640 --> 00:11:54,760
우리박스 되게 좋을 것 같은데

229
00:11:54,760 --> 00:11:58,420
나도 사실 되게 조심히 나가야 돼 나중에 하나예요

230
00:11:58,420 --> 00:12:01,990
나게 단점에 대해서 잠깐 이야기 해 드리면

231
00:12:01,990 --> 00:12:04,590
첫 번째로 락은 프로스트

232
00:12:04,590 --> 00:12:06,570
병렬로 작업을 못 하게 합니다

233
00:12:06,570 --> 00:12:09,180
저희 아까 멀티태스킹 이라고 했는데

234
00:12:09,180 --> 00:12:10,980
정작 병렬로 하지 못하게 하는

235
00:12:10,980 --> 00:12:12,500
그런 현상이 발생하게 해요

236
00:12:12,500 --> 00:12:13,620
옆에 있는 그림에서 보듯이

237
00:12:13,620 --> 00:12:18,490
지현이에게 는 길막을 유발하게 되죠

238
00:12:18,490 --> 00:12:21,450
두 번째 단점은 되더라 되더라

239
00:12:21,450 --> 00:12:26,140
근 저 사진에서 보는 거 같은 상황인데요

240
00:12:26,140 --> 00:12:28,470
첫 번째 차가 움직일 위해서는

241
00:12:28,470 --> 00:12:30,520
그 앞에 차가 움직여야 되고

242
00:12:30,520 --> 00:12:33,120
그리고 그 차는 또 다른 차를 기다려야 되고

243
00:12:33,120 --> 00:12:35,210
또 그 차는 원래 첫 번째 자리 기다려야 되는

244
00:12:35,210 --> 00:12:36,950
그 누구도 움직일 수 없는 상황

245
00:12:36,950 --> 00:12:39,760
이게 바로 대답 이라고 합니다

246
00:12:39,760 --> 00:12:42,890
잘 못 쓰게 되면 대답을 발생시키게 되고

247
00:12:42,890 --> 00:12:50,110
dbms 는 이렇게 락에 대해서 이야기했고

248
00:12:50,110 --> 00:12:52,930
추가적으로 저희가 또 알아야 될 것 중에 하나가 바로 아이솔레이션

249
00:12:52,930 --> 00:12:56,090
레벨 인데요 아까 이야기했다

250
00:12:56,090 --> 00:12:59,810
CP 가 이솔레이션 레벨은 세션 간의 상호

251
00:12:59,810 --> 00:13:03,470
작용 정도를 조절 하는 그런 레벨을 이야기하고

252
00:13:03,470 --> 00:13:10,010
E 레벨을 조절하기 위해서 dbms 약간 연락을 활용하겠습니다

253
00:13:10,010 --> 00:13:13,610
이게 아이솔레이션 레벨을 이야기하기 전에 저희가 리들 피오

254
00:13:13,610 --> 00:13:17,450
미나 라고 하는 dbms 발생할 수 있는 세 가지 종류

255
00:13:17,450 --> 00:13:21,680
이렇게 현상에 대해서 좀 알아 봐야 되는데요

256
00:13:21,680 --> 00:13:28,120
색깔 좀 첫 번째는 더티 리더라고 합니다 이 더트리 되는

257
00:13:28,120 --> 00:13:29,830
만약에 펜션 하나 있으니까

258
00:13:29,830 --> 00:13:36,770
티가 휴가 어떤 데이터를 변경하려고 변경을 했고

259
00:13:36,770 --> 00:13:39,620
그 다음에 얘는 아직 컴퓨터 하지 않았는데 발안택시

260
00:13:39,620 --> 00:13:42,770
아니 걔가 변경한 데이터를 읽을 수 있는 현상을 더 뛰라고

261
00:13:42,770 --> 00:13:45,890
편함

262
00:13:45,890 --> 00:13:50,040
다음 비노 민아는 넌 리피터를 이던데요

263
00:13:50,040 --> 00:13:52,880
있는 하나의 쿼리를 두번실행 했을 때

264
00:13:52,880 --> 00:13:55,710
다른 교회 갑시다 안 한다는 것을 이야기 합니다

265
00:13:55,710 --> 00:14:00,640
예를 들어서 특정계좌 에 기록된 잔액을 두 번 했는데

266
00:14:00,640 --> 00:14:02,700
첫 번째는 예를 들어 천원이나 갖고

267
00:14:02,700 --> 00:14:04,810
두 번째는 2,000원이 나오게 되는

268
00:14:04,810 --> 00:14:09,610
그런 현상을 너 느낌있어 버리더라고 편합니다

269
00:14:09,610 --> 00:14:13,640
마지막 회 놈이 나는 팬텀이 드라고 이야기하는데요

270
00:14:13,640 --> 00:14:16,300
이는 역시 같은 커리를 날렸는데

271
00:14:16,300 --> 00:14:19,010
다른 로고들이 바란다는 현장을 이야기 합니다

272
00:14:19,010 --> 00:14:20,640
예를 들어서 커리는 천

273
00:14:20,640 --> 00:14:23,650
원이 남아 있는 계좌를 조회해 줘 라고 날렸는데

274
00:14:23,650 --> 00:14:27,380
첫 번째 조회와 두 번째 조회가 다른 계좌

275
00:14:27,380 --> 00:14:30,630
들을 바나나는 것을 팬텀 이더라고 이야기합니다

276
00:14:30,630 --> 00:14:33,090
어 그러면 너네 between 터미널설정

277
00:14:33,090 --> 00:14:35,900
교체 보지 많은 생각을 하실 것 같아서

278
00:14:35,900 --> 00:14:37,740
잠깐 비교 해 드리면

279
00:14:37,740 --> 00:14:41,360
넌 내 미래는 다른 값을 갖고 있는

280
00:14:41,360 --> 00:14:43,550
같은 로우가 많이 되는 거야

281
00:14:43,550 --> 00:14:47,260
팬텀 이들은 같은 값에 갖고 있는 다른 로 가 봤는데

282
00:14:47,260 --> 00:14:51,360
이게 되는 겁니다

283
00:14:51,360 --> 00:14:53,720
아이솔레이션 레벨은 사실

284
00:14:53,720 --> 00:14:56,560
뭐 같은 종류의 레벨이라고 하더라도

285
00:14:56,560 --> 00:14:57,540
dbms 가 각각

286
00:14:57,540 --> 00:14:58,810
어떻게 보내느냐에 따라서

287
00:14:58,810 --> 00:15:01,460
약간의 차이점을 줄 수 있는데요

288
00:15:01,460 --> 00:15:03,050
그래서 저는 이따

289
00:15:03,050 --> 00:15:09,950
장보고에 대해서 이야기 하기 위한 기본적인 내용만 잠깐 이야기하려고

290
00:15:09,950 --> 00:15:12,890
아이솔레이션 레벨 기본적으로 아까 예약했더니

291
00:15:12,890 --> 00:15:16,610
DP 놈이 나를 사용하는 정도인데요

292
00:15:16,610 --> 00:15:18,100
저희 입혀 에서 볼 수 있다

293
00:15:18,100 --> 00:15:21,650
시피 왼쪽에는 총 4가지 아이솔레이션

294
00:15:21,650 --> 00:15:22,960
레벨이 되어 있고

295
00:15:22,960 --> 00:15:26,450
그다음에 구축에는 허용되는 리드 종류들

296
00:15:26,450 --> 00:15:28,380
아까 믿을 놈이 나의 종류를

297
00:15:28,380 --> 00:15:31,880
남의 일을 사용하기 위해서 어떤 락드릴 사용하는지

298
00:15:31,880 --> 00:15:33,980
에 대한 표로 정리해봤어요

299
00:15:33,980 --> 00:15:36,410
첫 번째는 시리얼라이저블 일요일

300
00:15:36,410 --> 00:15:38,650
날 잊어버리는 아까 얘기했던 패스다

301
00:15:38,650 --> 00:15:43,100
모든 피 놈이 나를 허용하지 않는 형태를 이야기합니다

302
00:15:43,100 --> 00:15:47,710
이를 위해서 믿으라 라이트랑 레인지 락을 사용하게됩니다

303
00:15:47,710 --> 00:15:49,400
미드 라이트는 이야기 했으니까

304
00:15:49,400 --> 00:15:51,590
잠깐 렌지락 에 대해 설명을 해 드리면

305
00:15:51,590 --> 00:15:57,250
메이저리그 내려줘서 하나의 롤을 우리들 라이트를 시도했을때

306
00:15:57,250 --> 00:16:01,730
그 주변에 있는 부의 로드까지 나갈 거 이야기하면

307
00:16:01,730 --> 00:16:04,200
일요일 날 잡으면 보통 테이블 단위로

308
00:16:04,200 --> 00:16:08,130
아예 락을 다 걸어버리는 방식을 이용해서

309
00:16:08,130 --> 00:16:10,930
팬텀 이들을 많은 것을 알고 있습니다

310
00:16:10,930 --> 00:16:13,540
그리고 제가 알기로 최근에는 시리얼라이저블

311
00:16:13,540 --> 00:16:16,560
사실 지원하는 dbms 별로 없는 걸로 알고 있고

312
00:16:16,560 --> 00:16:19,090
굉장히 특수한 상황에서 보통 사용하기 때문에

313
00:16:19,090 --> 00:16:23,880
이런 상황이 데이터 안정성이 멀티태스킹도 중요한 시스템에

314
00:16:23,880 --> 00:16:25,710
경우에는 이 씨발년이 접을

315
00:16:25,710 --> 00:16:29,060
나는 dbms 따로 사용하는 것으로 들었음

316
00:16:29,060 --> 00:16:33,590
남해 그 다음으로 낮은 단계의 레벨이 포터블 있는데요

317
00:16:33,590 --> 00:16:35,760
이는 팬텀이 드는 가능하지만

318
00:16:35,760 --> 00:16:38,460
그 외에 다른 피노 민아는 방지를 하는 거고요

319
00:16:38,460 --> 00:16:41,730
기본적으로 리드라이트 나갈 사용하게 됩니다

320
00:16:41,730 --> 00:16:42,910
그 다음 단계가 리드

321
00:16:42,910 --> 00:16:46,100
커미티드 얘는 터트리는 불가능하게 하고요

322
00:16:46,100 --> 00:16:48,380
1위에서 라이트 랑만 사용하게 되고

323
00:16:48,380 --> 00:16:50,340
가장 낮은 단계의 리드용 커미티드

324
00:16:50,340 --> 00:16:54,340
는 어떤 안락도 사용하지 않아서 아까 얘기했던 3가지 피노

325
00:16:54,340 --> 00:17:03,420
민아가 모두 다 가능한 현상을 이야기 자

326
00:17:03,420 --> 00:17:06,700
그러면 되게 많은 내용을 얘기했는데

327
00:17:06,700 --> 00:17:07,770
그리고 난 이미 저 멀리

328
00:17:07,770 --> 00:17:10,210
더 이상 머리가 들어갈 수 없어 없긴 하지만

329
00:17:10,210 --> 00:17:12,030
정작 우리가 아직 장군에 대해서 얘기 안 했잖아요

330
00:17:12,030 --> 00:17:17,920
그래서 저 한번 정보에 대해서 이야기해 볼게요

331
00:17:17,920 --> 00:17:22,400
잔고는 오토 커미트 모드가 기본이에요

332
00:17:22,400 --> 00:17:26,130
그래서 모델을 오색띠 생성하거나 삭제하거나

333
00:17:26,130 --> 00:17:28,090
변경할 데이터만 다시는 될 때

334
00:17:28,090 --> 00:17:32,320
바로 DB 쿼리를 발생하게 됩니다

335
00:17:32,320 --> 00:17:37,040
그러고 디베 특성상 이렇게 쿼리를 진행하려면

336
00:17:37,040 --> 00:17:38,200
각 스테이트 마트는 자동으로

337
00:17:38,200 --> 00:17:41,160
세션을 쉬어야만 진행을 할 수 있게 됩니다

338
00:17:41,160 --> 00:17:43,770
그래서 오토커밋 어떤 작업을 하던 간에

339
00:17:43,770 --> 00:17:47,130
바로 되는 현상 작업을

340
00:17:47,130 --> 00:17:51,130
잔고는 기본적으로 갖고 있습니다

341
00:17:51,130 --> 00:17:53,810
그리고 잔고는 기본적으로 천시하는 시작하는 apr

342
00:17:53,810 --> 00:17:55,390
제공하지는 않아요

343
00:17:55,390 --> 00:17:58,460
만약에 굳이 스테이션을 컨트롤 하고 싶다 라고 한다면

344
00:17:58,460 --> 00:18:00,900
퍼플로 오토컴 있을 거야

345
00:18:00,900 --> 00:18:06,680
발생시키지 않는 방향 밖에 없는 걸로 알고 있습니다

346
00:18:06,680 --> 00:18:10,580
다만 오토커밋 모드를 사용하더라도 저희가 잔고

347
00:18:10,580 --> 00:18:14,390
좀 전에 아토믹 이라는 함수를 이용해서

348
00:18:14,390 --> 00:18:18,640
여러 스테이트먼트 들에 대해서 보장할 수 있게 돼요

349
00:18:18,640 --> 00:18:21,190
이게 어떻게 보면 하나의 트랜잭션의 크기를

350
00:18:21,190 --> 00:18:23,670
우리가 임의로 정리할 수 있는 과 같은

351
00:18:23,670 --> 00:18:25,100
현상을 발생할 수 있게 되어서

352
00:18:25,100 --> 00:18:28,220
어떻게 보면 우리가 트랜잭션을 컨트롤한다

353
00:18:28,220 --> 00:18:32,190
나는 작업을 사용할 수 있게 해 줍니다

354
00:18:32,190 --> 00:18:34,520
오늘 사용할 수 있나

355
00:18:34,520 --> 00:18:37,440
사용할 수 있는 방법은 총 두 가지 방법이 있어요

356
00:18:37,440 --> 00:18:39,470
그냥 데코레이터 를 이용하는 방법

357
00:18:39,470 --> 00:18:41,750
그다음에 스테이트먼트 이용해서 사용하는 방법

358
00:18:41,750 --> 00:18:47,600
두 가지 방법이 있습니다 이 어떤 맥박수는 하나

359
00:18:47,600 --> 00:18:49,180
이상을 사용할 수도 있는데요

360
00:18:49,180 --> 00:18:52,630
지금 옆에 고대에서 보시다시피

361
00:18:52,630 --> 00:18:56,300
첫 번째 아나토미를 걸어서 캠퍼스를 진행하고

362
00:18:56,300 --> 00:18:58,600
그 다음 또 다른 애터미를 걸어서 그

363
00:18:58,600 --> 00:19:02,180
대구에서 또 다른 벌써 재난은 형식으로 해서 아토믹

364
00:19:02,180 --> 00:19:06,440
레스트레이드 형 형태로 사용할 수 있는데요 이

365
00:19:06,440 --> 00:19:08,700
4세대 형태를 어떻게 진행되는지

366
00:19:08,700 --> 00:19:12,060
잠깐 찍고 넘어가자면 첫 번째 바꿔 바꿔 주면

367
00:19:12,060 --> 00:19:14,080
시작도 하게 되고요

368
00:19:14,080 --> 00:19:18,350
그다음에 프로세스 아우 더워 그냥 작업을 뭔가를 되고

369
00:19:18,350 --> 00:19:22,430
안쪽선 액션 시작하기 전에 세이브 포인트 생성하기

370
00:19:22,430 --> 00:19:24,180
그러고 밑에서 안쪽에

371
00:19:24,180 --> 00:19:26,780
이제 텐션 에 관련된 작업들을 하게 되는데

372
00:19:26,780 --> 00:19:31,560
만약에 이게 내부에서 어떤 특정 에러가 발생하거나 해서

373
00:19:31,560 --> 00:19:32,810
챔피언십 하게 된다면

374
00:19:32,810 --> 00:19:36,690
아까 생성되던 때까지 롤백을 하게 됩니다

375
00:19:36,690 --> 00:19:40,220
그리고 마지막으로 바꿔줘 편의점에 관련된 작업 모드

376
00:19:40,220 --> 00:19:41,940
끝내기 되면 지금까지 작업한

377
00:19:41,940 --> 00:19:44,600
모든 작업들이 커미션 하게 됩니다

378
00:19:44,600 --> 00:19:48,000
따라서 보시다시피 안에 이너포스 쓰는 사실

379
00:19:48,000 --> 00:19:50,360
아웃도어 퍼스가 끝나기 전까지는 모두

380
00:19:50,360 --> 00:19:56,610
커밋이 되지 갖고 있습니다

381
00:19:56,610 --> 00:20:00,740
잔고는 서버의 설정된 dbms 의 아이솔레이션 을

382
00:20:00,740 --> 00:20:04,160
기본적으로 사용하게 됩니다

383
00:20:04,160 --> 00:20:07,830
하지만 옵션이라는 설정을 사용해서 서버 설정

384
00:20:07,830 --> 00:20:09,570
오버라이트 할 수 있게 돼요

385
00:20:09,570 --> 00:20:12,150
그리고 잔고 1.1 부터는 옥션에

386
00:20:12,150 --> 00:20:15,620
아이솔레이션 레벨이라는 설정값 이름을 아예 명시적으로 정

387
00:20:15,620 --> 00:20:21,090
원한다면 변경할 수 있게 해 줘

388
00:20:21,090 --> 00:20:24,840
저희 시스템에서 기본적으로 쓰고 있는 게 많이

389
00:20:24,840 --> 00:20:27,560
스퀘어 에서 마이 스케줄 좀 만들어 얘기를 드리면

390
00:20:27,560 --> 00:20:30,270
마이스키 오늘은 저희가 아마 설정을 건드리지 않는다고 한다면

391
00:20:30,270 --> 00:20:34,400
디폴트로 리피터 블레이드를 아이솔레션 사용하게 됩니다

392
00:20:34,400 --> 00:20:36,720
하지만 참고 문서를 한번 검색해 보시면

393
00:20:36,720 --> 00:20:39,870
장소는 기본적으로 2대컴퓨터 대로 건장하게 되죠

394
00:20:39,870 --> 00:20:43,510
이거는 사이드노트 작가님 말씀을 드리면

395
00:20:43,510 --> 00:20:45,090
보통 우리가 많이 사용

396
00:20:45,090 --> 00:20:47,850
다른디비 들으니 더 커뮤니티들을 디폴트로

397
00:20:47,850 --> 00:20:51,890
많이 사용하게 되는 mysql If I will 오래

398
00:20:51,890 --> 00:20:53,720
오래 전부터 벌초 살았기 때문에

399
00:20:53,720 --> 00:20:57,870
이런 차이점이 발생한다고 합니다

400
00:20:57,870 --> 00:21:01,020
그래서 주의 사항 하나 발생합니다

401
00:21:01,020 --> 00:21:05,190
mysql 에서 다이소에 아이솔레션 레벨은 바이너리로그

402
00:21:05,190 --> 00:21:08,400
저 바이너리로 거는 이제 제가 서비스가 커지게 되면

403
00:21:08,400 --> 00:21:11,230
당연히 슬레이브 이들을 활용하게 될텐데요

404
00:21:11,230 --> 00:21:17,230
이슬레이 TV 를 만들기 위한 로그가 바로 바이너리로그 바이너리로그

405
00:21:17,230 --> 00:21:19,230
mysql8 아이솔레이션

406
00:21:19,230 --> 00:21:22,010
에메랄드 밀접한 연관이 있습니다

407
00:21:22,010 --> 00:21:29,140
따라서 잔고와 마이 skin 레벨을 아까 권장하는 대로 벌대로

408
00:21:29,140 --> 00:21:31,580
설정에서 다르게 사용할 경우

409
00:21:31,580 --> 00:21:33,490
우리가 생각하는 낮과 좀 다르게

410
00:21:33,490 --> 00:21:36,970
행동 할 수가 있게 되는데요

411
00:21:36,970 --> 00:21:40,510
예를 들어서 죄송합니다

412
00:21:40,510 --> 00:21:44,390
저희 스케일은 믿을 컴퓨터 내가 기본이고

413
00:21:44,390 --> 00:21:47,900
그 다음에 아니고 그 다음에 장 보는 미드컴팩트

414
00:21:47,900 --> 00:21:50,590
내가 기본으로 해서 이렇게 설정 하게 된다면

415
00:21:50,590 --> 00:21:53,130
잔고에서 행동하는 모든 작업은 리드컴

416
00:21:53,130 --> 00:21:55,460
틴트처럼 작업을 하겠지만

417
00:21:55,460 --> 00:21:57,110
실제로 바이너리로 글자가

418
00:21:57,110 --> 00:22:02,160
마이에스큐엘 단에서는 리피터를 작동을 하기 때문에

419
00:22:02,160 --> 00:22:05,370
실제적으로 특정 시점에서는 분명히 내가 한 건

420
00:22:05,370 --> 00:22:07,030
미드 컴퓨터라고 장부에 설정해 놨어

421
00:22:07,030 --> 00:22:14,240
매도 약간 리피터 미드처럼 작동하는 그 현장을 발생하게 되고

422
00:22:14,240 --> 00:22:15,670
아까 잠깐 이야기했는데

423
00:22:15,670 --> 00:22:18,450
아이솔레이션 레벨은 설정에서 특정 설정해

424
00:22:18,450 --> 00:22:21,830
따라서 각각의 스테이트먼트 들이 자동으로 락을 사용

425
00:22:21,830 --> 00:22:24,490
합니다

426
00:22:24,490 --> 00:22:28,220
하지만 참고해서 만약 내가 약을 사 먹고 싶다 라고 한다면

427
00:22:28,220 --> 00:22:31,170
그 사용할 수 있게 해 주네 좀 수가 있는데요

428
00:22:31,170 --> 00:22:33,710
트랜스포머 일단은 첫째로

429
00:22:33,710 --> 00:22:36,220
트레시 아토믹 안에 들어 있어야 되고요

430
00:22:36,220 --> 00:22:38,680
배틀넷이 아토믹 내부에 있었을 때

431
00:22:38,680 --> 00:22:41,210
셀렉트 업데이트라는 함수를 사용해서

432
00:22:41,210 --> 00:22:44,830
자기가 임의로 락을 발생시킬 수 있어

433
00:22:44,830 --> 00:22:47,160
여기서 또 다른 주의사항이 발생하는데

434
00:22:47,160 --> 00:22:52,560
저희가 장고에서 쿼리를 할 때 셀렉트 업데이트를 사용할 때

435
00:22:52,560 --> 00:22:56,020
만약에 셀렉터 셀렉트 릴레이 티드 함께 사용하게 되면

436
00:22:56,020 --> 00:22:57,720
그 좋은 걸 모든 로고까지

437
00:22:57,720 --> 00:22:59,410
한꺼번에 나게 걸리게 됩니다

438
00:22:59,410 --> 00:23:02,790
따라서 어마무시한 대재앙을 발생할 수 있는

439
00:23:02,790 --> 00:23:07,390
매우 주의해야 될 사항 중에 하나입니다

440
00:23:07,390 --> 00:23:10,120
또한 우리가 임의로 락을 걸기 때문에

441
00:23:10,120 --> 00:23:10,880
발생할 수 있는 또

442
00:23:10,880 --> 00:23:14,330
다른 하나의 문제가 바로 되더라고 이

443
00:23:14,330 --> 00:23:16,540
데드락을 해 피하기 위해서는

444
00:23:16,540 --> 00:23:19,400
회사내부에서 일정에 컨벤션으로 써 만약에

445
00:23:19,400 --> 00:23:23,240
어떤 특정 연관된 테이블들을 필요한 작업들이다 라고

446
00:23:23,240 --> 00:23:27,680
한다면 이 모델 뒤에 나를 갖고 오는 순서를 정해야만 되더라고

447
00:23:27,680 --> 00:23:30,050
피할 수 있습니다

448
00:23:30,050 --> 00:23:32,680
예를 들어서 저희 지금 T1

449
00:23:32,680 --> 00:23:37,000
T2 T3 라는 모델도 있다라고 가정했을 때

450
00:23:37,000 --> 00:23:37,850
같이 시스템 개발

451
00:23:37,850 --> 00:23:41,310
한 사람들에게 우리 락을 얻기 위해서는 무조건 T1 없고

452
00:23:41,310 --> 00:23:42,470
그 다음에 티투로 없고

453
00:23:42,470 --> 00:23:44,060
그냥 피스를 얻어야 돼

454
00:23:44,060 --> 00:23:45,860
그냥 순서를 명시적으로 해줘야

455
00:23:45,860 --> 00:23:48,030
저희가 데드락을 피할 수 있게 돼요

456
00:23:48,030 --> 00:23:50,750
그래서 지금 저기 저기 예제에서 보시다시피

457
00:23:50,750 --> 00:23:54,530
프레스원 과천은 둘다 T1 다음에

458
00:23:54,530 --> 00:23:57,020
그다음에 그다음에 T3 형태로 오라

459
00:23:57,020 --> 00:24:01,820
그러는 형태로 구현하게 됩니다 이 순서를 지키지 않으면

460
00:24:01,820 --> 00:24:06,400
저희가 제대로 볼 수 있겠네

461
00:24:06,400 --> 00:24:09,920
그다음에 한 가지 더 이상 잃을 얘기 들으면

462
00:24:09,920 --> 00:24:13,040
만약에 서비스가 너무 회사가 매우 잘 됐다

463
00:24:13,040 --> 00:24:14,700
서비스 커졌다

464
00:24:14,700 --> 00:24:18,640
상황이었을 때 너무 많은 데이터가 한 번에

465
00:24:18,640 --> 00:24:21,940
그 라이트 하는 현상이 발생하게 된다면

466
00:24:21,940 --> 00:24:25,200
그 저희가 잔고에서 이번 주로 사용하는 PK 가

467
00:24:25,200 --> 00:24:27,490
바로 또 인크리멘트 이상하게 되는데요

468
00:24:27,490 --> 00:24:29,730
이게 오토인크리먼트 가

469
00:24:29,730 --> 00:24:33,170
TV 에서는 2PK 값을 저장하고

470
00:24:33,170 --> 00:24:36,800
일단은 테이블 있고 이 테이블 아기 걸리기 때문에

471
00:24:36,800 --> 00:24:40,130
약간 기록이 좀 늦어지는 현상이 발견하게됩니다

472
00:24:40,130 --> 00:24:43,780
이는 mysql 기본으로 얘기하면

473
00:24:43,780 --> 00:24:47,600
이노 디비에 오토인크리먼트 라는 옵션을 이렇게 보면 되게

474
00:24:47,600 --> 00:24:50,190
밥도 방대한 자료를 볼 수 있는데요

475
00:24:50,190 --> 00:24:55,730
너무 방대해서 이번 세션에서는 하도록 하겠습니다

476
00:24:55,730 --> 00:24:57,350
지금까지 저희가 DB

477
00:24:57,350 --> 00:24:59,610
에 대한 많은 특성들을 이야기했고

478
00:24:59,610 --> 00:25:01,060
그다음에 특성들을 어떻게

479
00:25:01,060 --> 00:25:04,540
우리가 임의로 그 잠궜을 수 있는 대해서 이야기

480
00:25:04,540 --> 00:25:04,920
했는데

481
00:25:04,920 --> 00:25:07,910
그러면 일을 실제로

482
00:25:07,910 --> 00:25:11,510
서비스에서 어떻게 생각하시는지 이야기해 볼게요

483
00:25:11,510 --> 00:25:13,450
아까 얘기했다시피 어떻게 믿고

484
00:25:13,450 --> 00:25:15,310
한 세트가 업데이트를 이용하게 되면

485
00:25:15,310 --> 00:25:16,630
잔고 에서도 임의로

486
00:25:16,630 --> 00:25:20,060
레이스 컨디션을 우리가 컨트롤할 수 있게 됩니다

487
00:25:20,060 --> 00:25:22,190
하지만 너무 많이 상하게 될 경우

488
00:25:22,190 --> 00:25:24,510
실제 서비스에서는 제가 요즘에 고생하고 있다

489
00:25:24,510 --> 00:25:29,210
시피 락 타이머 실행 쉽게 볼 수 있는데요

490
00:25:29,210 --> 00:25:33,540
사실 나 타임아웃을 피하는 가장 좋은 방법은 단순함

491
00:25:33,540 --> 00:25:34,610
그냥 프로세스들이 나가

492
00:25:34,610 --> 00:25:36,990
들고 있는 시간을 최소화 하면 됩니다

493
00:25:36,990 --> 00:25:38,800
락앤락을 아예 사용하지 않고

494
00:25:38,800 --> 00:25:41,590
하기에는 데이터 안정성이 너무 위험하기 때문에

495
00:25:41,590 --> 00:25:43,370
사용하지 않을 수는 없고

496
00:25:43,370 --> 00:25:48,130
그렇다면 거의 다 타이머 피할 수 있는 유일한 방법은

497
00:25:48,130 --> 00:25:50,500
그냥 프로세스들이 최소한의 시간을 올라가요

498
00:25:50,500 --> 00:25:55,340
가질 수 있게 고민해보는 게 그냥 좋은 방법입니다

499
00:25:55,340 --> 00:25:58,060
여기서 우리가 주의할 사항이 또 나오는데요

500
00:25:58,060 --> 00:26:02,180
아까 네스티드 어떤 일을 이야기 했을 때

501
00:26:02,180 --> 00:26:04,490
펜션은 가장 바깥쪽

502
00:26:04,490 --> 00:26:08,660
트랜지션이 끝나야 모든 작업을 컴퓨터가 되고

503
00:26:08,660 --> 00:26:11,000
그 다음에 아까 얘기했던 쉐이킹 페이스 조립 하게 되면

504
00:26:11,000 --> 00:26:13,420
그때 해서 연락을 놓겠습니다

505
00:26:13,420 --> 00:26:18,770
따라서 어 저희가 약을 먹고 싶다고 한다면

506
00:26:18,770 --> 00:26:22,020
현재 하고 있는 펜션 끝내야 될 게 아니라

507
00:26:22,020 --> 00:26:25,230
그 바깥에서 밥 보이는 서현까지 모두 끝내야 되는데요

508
00:26:25,230 --> 00:26:28,590
일을 잠시 예제로 보여 드릴게 어

509
00:26:28,590 --> 00:26:30,530
저희가 첫 번째로 들어가는 롱포스트

510
00:26:30,530 --> 00:26:33,700
굉장히 오래 걸리는 프로세스라는 함수를 갖고 있고

511
00:26:33,700 --> 00:26:36,960
액션을 아톰 일을 걸고 시작하게 됩니다

512
00:26:36,960 --> 00:26:40,240
그 다음에 우리 투자자들에 정보 미스터 의정부

513
00:26:40,240 --> 00:26:43,350
텔레콤 업데이트를 안 걸고 들어오고 갖고 오게 되고요

514
00:26:43,350 --> 00:26:45,630
다음에 스터디를 돌면서

515
00:26:45,630 --> 00:26:49,900
저희 상환 작업을 한다고 가정합니다

516
00:26:49,900 --> 00:26:52,250
그다음에 이상환 작업 무엇을 하느냐

517
00:26:52,250 --> 00:26:56,960
아 먼저 발란스 오브젝트를 들고 계세요

518
00:26:56,960 --> 00:27:02,270
근데 이 발란스는 사실 투자자의 계좌 정보이기 때문에

519
00:27:02,270 --> 00:27:07,470
이상한 말고도 굉장히 많은 곳에서 되게 사용되고 있는

520
00:27:07,470 --> 00:27:12,740
매우 중요한 피파실시간 대담이 발란스를 이용해서 주스 터프이너프

521
00:27:12,740 --> 00:27:14,880
리발란스 라는 한숨 돌리게 됩니다

522
00:27:14,880 --> 00:27:18,160
이름에서 보다시피 여기서 무엇을 하는지 모르겠지만

523
00:27:18,160 --> 00:27:20,700
발란스를 라이트 하는 작업을 하게 되겠죠

524
00:27:20,700 --> 00:27:24,090
하게 된다면 어떤 문제가 발생할 수 있는 되게

525
00:27:24,090 --> 00:27:26,300
펄스 상으로는 사람이 생각하기엔 되게

526
00:27:26,300 --> 00:27:27,780
명시적인 내용인 것 같은데

527
00:27:27,780 --> 00:27:30,060
그러다 한 명씩 돌면서 상환 처리해주고

528
00:27:30,060 --> 00:27:31,800
계좌에 금액을 기록해 주고

529
00:27:31,800 --> 00:27:33,800
명시적인 플러스 된 거 같은데

530
00:27:33,800 --> 00:27:37,880
어떤 문제가 발생할 수 있냐면 가장 첫 번째로 발생

531
00:27:37,880 --> 00:27:43,600
단 투자자 1번 밸런스는 우리 300명 있다고 한다면

532
00:27:43,600 --> 00:27:45,540
300번째 찾아 줘

533
00:27:45,540 --> 00:27:47,120
스타팬 업데이트 발란스 라면

534
00:27:47,120 --> 00:27:51,550
작업이 전까지 라벨 오지 못하게 됩니다

535
00:27:51,550 --> 00:27:52,370
저희가 300명

536
00:27:52,370 --> 00:27:55,080
300M 집안은 다니는 아닌데요

537
00:27:55,080 --> 00:27:58,420
몇천명 그다음에 몇 만 명 정도가 된다고 한다면

538
00:27:58,420 --> 00:27:59,910
첫 번째 투자자는 그

539
00:27:59,910 --> 00:28:03,390
모든 플스가 끝나기 전까지 나 가지고 있게 되고

540
00:28:03,390 --> 00:28:07,180
그러면서 그 첫 번째 투자자에게 접근하려는

541
00:28:07,180 --> 00:28:09,520
다른 모든 포스터들은 앞에 마술

542
00:28:09,520 --> 00:28:14,370
죽어버리는 아주 무시무시한 생각됩니다

543
00:28:14,370 --> 00:28:15,730
일을 해결할 수 있는 방법이 아까

544
00:28:15,730 --> 00:28:18,550
얘기했던 표 가지고 올라 락을 걸고 있는 시간에

545
00:28:18,550 --> 00:28:25,170
개선이 그래서 지금 아까 왼쪽에 지금 보이고 있는 아까

546
00:28:25,170 --> 00:28:30,420
그 코드에서 코드로 바꾸게 된다면

547
00:28:30,420 --> 00:28:33,340
가장 큰 차이점은 살짝 무엇이냐 라고 한다면

548
00:28:33,340 --> 00:28:34,270
아까 얘기했지

549
00:28:34,270 --> 00:28:41,080
특별세션인 발란스를 시간이 가장 최후 방탄에서 업데이트

550
00:28:41,080 --> 00:28:43,350
판단하는 게 차이점입니다

551
00:28:43,350 --> 00:28:46,730
그래서 아까 얘기했더니 페이먼트 프로세스

552
00:28:46,730 --> 00:28:49,980
나는 프로세스는 그냥 발란스를 작업하는 자고

553
00:28:49,980 --> 00:28:53,380
왜 모든 작업을 처리하게 만들어 놓고 나서 이 마지막

554
00:28:53,380 --> 00:28:54,750
가장 최후방 때문에

555
00:28:54,750 --> 00:28:58,720
그냥 최후방 다닌 부분에서 바코드에 가자미 9분해서

556
00:28:58,720 --> 00:29:00,350
업데이트 발란스를 아는 것이

557
00:29:00,350 --> 00:29:02,820
따로 빼서 계좌정보를 업데이트 하는 것을 취소한다는

558
00:29:02,820 --> 00:29:05,180
빨리 끝내서 바로 텐션을 종료시켜

559
00:29:05,180 --> 00:29:07,220
버리는 방식으로 이용해서

560
00:29:07,220 --> 00:29:12,910
타임아웃을 최대한 회피할 수 있게 됩니다

561
00:29:12,910 --> 00:29:14,300
여기까지가 저의 설명 이고요

562
00:29:14,300 --> 00:29:17,220
어 저 잠깐 광고를 하게 지나간다

563
00:29:17,220 --> 00:29:21,750
저희 저 좀 왼쪽편에 가시면 저 버스가 있어요

564
00:29:21,750 --> 00:29:26,300
현재 저희가 이번 세시 전에 와서 와서

565
00:29:26,300 --> 00:29:28,070
가장 크게 보고 있는 게

566
00:29:28,070 --> 00:29:31,240
바로 딱 세 번만 채용하고 가는 게 저의 목표입니다

567
00:29:31,240 --> 00:29:33,630
저희 아직 1시간 됐는데

568
00:29:33,630 --> 00:29:35,770
1시쯤 부터 저희가

569
00:29:35,770 --> 00:29:38,270
이채영 관련된 패키지를 전달해 드려요

570
00:29:38,270 --> 00:29:40,510
혹시 어제 오셨던 분으로 그런지 모르겠지만

571
00:29:40,510 --> 00:29:43,930
저희가 팔시 삼분

572
00:29:43,930 --> 00:29:46,080
채용 중이라는 패키지 넣어 드리고 있거든요

573
00:29:46,080 --> 00:29:49,820
한 번씩 관심 가져 주시고 방문해 주세요

574
00:29:49,820 --> 00:29:54,000
여기까지가 저희 발표 고 받겠습니다
