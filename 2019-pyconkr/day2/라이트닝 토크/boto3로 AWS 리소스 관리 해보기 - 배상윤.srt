1
00:00:02,070 --> 00:00:05,940
안녕하세요 보토 3로 aws

2
00:00:05,940 --> 00:00:08,490
리소스 관리 회복이라는 발표를 할 때

3
00:00:08,490 --> 00:00:14,600
3번입니다 이 발표회에서는 파이썬 보톡스를 사용해서 aws

4
00:00:14,600 --> 00:00:17,900
EC2 로드밸런서 서류관리 에스를 조절하라고

5
00:00:17,900 --> 00:00:20,060
그거에 대한 로그를 슬랙으로 써 본 경험

6
00:00:20,060 --> 00:00:23,970
에 대해서 짧게 얘기해 보겠습니다

7
00:00:23,970 --> 00:00:26,440
저희 팀에서 얼마 전에 런치는 서비스인 3월

8
00:00:26,440 --> 00:00:28,710
호랑이랑 서비스가 있는 이거는

9
00:00:28,710 --> 00:00:31,460
대학생들이 대학교에서 3월 신청을 할 때

10
00:00:31,460 --> 00:00:33,110
내가 불편한 점이 많았습니다

11
00:00:33,110 --> 00:00:35,230
기존에는 네이버 카페에 댓글로 달고나

12
00:00:35,230 --> 00:00:37,350
구글 홈에서 신청을 하거나

13
00:00:37,350 --> 00:00:40,470
심지어 카카오톡 오픈채팅 으로 전화 할게요

14
00:00:40,470 --> 00:00:42,560
라는 거를 다 일일이 해가지고

15
00:00:42,560 --> 00:00:45,130
학생의 사람들은 그거를 다 리스트를 봐 가지고

16
00:00:45,130 --> 00:00:47,880
미리 취업을 해서 사물함을 배치를 하고

17
00:00:47,880 --> 00:00:51,990
내가 그거를 공지를 써야겠어요

18
00:00:51,990 --> 00:00:54,560
내 블로그 서비스에는 파이썬 아는데

19
00:00:54,560 --> 00:00:58,470
내 파일 어디서 보톡스 리 있었습니다

20
00:00:58,470 --> 00:01:01,450
파이썬으로 aws 리소스를 관리할 수 있는 패키지

21
00:01:01,450 --> 00:01:03,130
인데요

22
00:01:03,130 --> 00:01:05,320
네 왜 세계대전 나에 대해서 뭔지 알려 드릴게요

23
00:01:05,320 --> 00:01:10,450
서비스란 특성상 좋은 자리를 쓰기 위한

24
00:01:10,450 --> 00:01:11,710
그런 동생이 많아요

25
00:01:11,710 --> 00:01:14,860
예를 들어서 키작은사람이 윗자리를 쓰거라

26
00:01:14,860 --> 00:01:17,420
사람이 자리를 쓸어 저 책 보내기 힘들잖아요

27
00:01:17,420 --> 00:01:20,130
그래 가지고 맨날 자리에 대한 불만이 많습니다

28
00:01:20,130 --> 00:01:23,340
그래서 저희가 시범을 한번 돌려 봤을 때

29
00:01:23,340 --> 00:01:27,340
시작 후 5분 이내 트래픽이 80% 가 몰랐어요

30
00:01:27,340 --> 00:01:30,270
그래가지고 좀 낮은 인스턴스에서 서비스를 하게 되면

31
00:01:30,270 --> 00:01:34,530
웹 서버에서 502 떠서 저 짜증나는 상황이죠

32
00:01:34,530 --> 00:01:36,550
그래서 이 문제를 해결하기 위해서

33
00:01:36,550 --> 00:01:39,970
시작 전에 로드밸런서 높은 인스턴스를 여러 개 붙여 놓고

34
00:01:39,970 --> 00:01:41,790
TV 도 더 큰 TV 를 쓰고

35
00:01:41,790 --> 00:01:45,100
그리고 끝나면 이게 있어서 비싸기 때문에 해제를 하고

36
00:01:45,100 --> 00:01:48,040
이렇게 하면 될 거라고 생각했습니다

37
00:01:48,040 --> 00:01:50,240
근데 이거를 손으로 하게 되면 aws

38
00:01:50,240 --> 00:01:53,860
콘솔에 로그인을 해 너 인스턴스로 끄고 변경을 하고

39
00:01:53,860 --> 00:01:56,480
로드맵 로드밸런서 등록을 하고

40
00:01:56,480 --> 00:01:59,820
또 이게 디비가 메인테인 중이면 서비스를 수가 없기 때문에

41
00:01:59,820 --> 00:02:04,000
점검 공지를 올리고 이런 거를 다 수정을 했어요

42
00:02:04,000 --> 00:02:07,330
이거를 맨정신에 할 수 없겠다는 생각이 들어

43
00:02:07,330 --> 00:02:10,050
널 4동 해보자 생각했습니다

44
00:02:10,050 --> 00:02:12,880
그래서 이런 거는 곳이라는 귀여운 이름

45
00:02:12,880 --> 00:02:16,010
SF3 안 되겠습니다 해서

46
00:02:16,010 --> 00:02:19,980
이렇게 오른쪽에 코드를 써서 aws

47
00:02:19,980 --> 00:02:23,370
람다에서 노트 3를 활용해서 바꾸는 동안

48
00:02:23,370 --> 00:02:28,130
이렇게 서브웨이 공지를 띄우고 DB 인스턴스 변경요청을 송금했다

49
00:02:28,130 --> 00:02:31,170
이런 식으로 그를 신뢰합니다

50
00:02:31,170 --> 00:02:33,950
그래서 사용한 기술은 aws 람다

51
00:02:33,950 --> 00:02:38,370
api.data 커맨드 를 사용해서 이런 식으로

52
00:02:38,370 --> 00:02:42,090
내가 서버를 어떤 식으로 확장하고 축소 하는 거가

53
00:02:42,090 --> 00:02:47,040
어떻게 진행이 되고 있는지를 바로 알 수 있게

54
00:02:47,040 --> 00:02:49,600
코드는 자세히는 안 볼 건데

55
00:02:49,600 --> 00:02:53,580
뭐 이런 식으로 간단하게 할 수 있습니다

56
00:02:53,580 --> 00:02:57,830
이렇게 보시면 어 지금 aws

57
00:02:57,830 --> 00:03:01,150
내가 사용하고 있는 인스턴스들을 리스트를 얻어 와서

58
00:03:01,150 --> 00:03:04,200
인스턴스를 출발하거나 삭제를 하거나

59
00:03:04,200 --> 00:03:07,630
뭐 정지하거나 이렇게 해서 할 수가 있습니다

60
00:03:07,630 --> 00:03:12,520
보토스 리코더로 보면 너 ami 라고

61
00:03:12,520 --> 00:03:15,620
이시 초 인스턴스에서 이미지를 미리 만들었어

62
00:03:15,620 --> 00:03:17,870
이미지를 가지고 인스턴스를 여러 개

63
00:03:17,870 --> 00:03:22,350
생성을 한 다음에 로드밸런서 부치게 되고

64
00:03:22,350 --> 00:03:23,560
이런 식으로 완전

65
00:03:23,560 --> 00:03:27,680
자동화에서 디플로 일을 할 수 있겠습니다

66
00:03:27,680 --> 00:03:30,500
이전에 저희가 저희가 수정을 했을 때랑

67
00:03:30,500 --> 00:03:32,630
많이 달라진 점은

68
00:03:32,630 --> 00:03:34,990
네 복잡한 작업을 손으로 하지 않아도 됩니다

69
00:03:34,990 --> 00:03:37,690
이게 옛날에는 한번 시작할게 하면

70
00:03:37,690 --> 00:03:39,400
또 이제 나 하고 있어 하고

71
00:03:39,400 --> 00:03:43,780
소스를 띄우거나 뭐로 바꾸면 좀 걸리잖아

72
00:03:43,780 --> 00:03:46,400
몇 분 동안 그러면 이러고 있어야 되고

73
00:03:46,400 --> 00:03:49,160
그래 가지고 저 뒤쪽으로 안 좋은 일이 많은데

74
00:03:49,160 --> 00:03:50,630
팀원 전체가 지금

75
00:03:50,630 --> 00:03:53,180
무슨 일이 일어나고 있는지 알 수 있습니다

76
00:03:53,180 --> 00:03:57,220
저 쓰레기 인터페이스를 보시면 아시겠지만

77
00:03:57,220 --> 00:03:59,770
다른 사람들이 열심히 댓글을 달아 놨지요

78
00:03:59,770 --> 00:04:00,380
잘 하고 있구나

79
00:04:00,380 --> 00:04:04,510
이렇게 할 수 있거든요

80
00:04:04,510 --> 00:04:07,700
발표가 잡았는데 발표 내용 보다 지금 서울

81
00:04:07,700 --> 00:04:10,460
호랑이는 지금 두 번째 학기를 맞이하고 있는데요

82
00:04:10,460 --> 00:04:13,080
카카오톡플친 에 3월 호랑이를 검색해 주시거나

83
00:04:13,080 --> 00:04:16,670
락스타이거 닷컴에 들어가시면 바로 서비스를 만나보실 수 있습니다

84
00:04:16,670 --> 00:04:20,560
네 대학생 여러분들의 많은 관심 감사합니다
