https://youtu.be/RK3-aNWveMs

안녕하세요? 이번 시간에는 최규민 님에게 추천시스템 이제는 돈이 되어야 한다 강연을 듣도록 하겠습니다. 큰 박수 부탁드립니다.
-안녕하세요? 추천시스템 이제는 돈이 되어야 한다를 발표하게 된 최규민입니다. 현재 카카오에 있고요. 그럼 시작하겠습니다. 오늘의 할 이야기는 카카오 재팬에서 픽코마라는 웹툰 서비스가 있습니다. 픽코마의 웹툰 만화 추천시스템에 이야기해볼 거고 매출 중심으로 여러분과 이야기를 나누고자 합니다.
그럼 시작하겠습니다. 우리는 언제 그리고 어떻게 웹툰을 볼까요? 저의 웹툰 라이프를 알아보겠습니다. 저는 출근할 때 웹툰을 보고 점심을 먹으면서 퇴근할 때 그리고 잠자기 전에. 좀 급조한 티가 나지만 일상생활에서 웹툰 라이프를 즐기고 있습니다. 다른 사람은 어떨까요? 픽코마 웹툰 이용자의 열람시간 분포를 보면 톡톡톡 튀는 구간이 있습니다. 출근 시간 점심 시간 퇴근 그리고 잠자기 전. 다른 사람들도 저와 다르지 않은 것 같아요.
이런 그래프를 보고 있으니까 예전에 봤던 다른 데이터가 생각나더라고요. 뉴스 이용자도 비슷한 패턴을 보였어요. 아침 점심 퇴근 잠자기 전. 이 그래프를 보니까 이런 생각이 들더라고요. 웹툰의 경쟁자는 뉴스가 아닐까 이런 생각이 들더라고요.
다시 돌아가서 최근의 웹툰 라이프에 대해서 구체적으로 알아보겠습니다. 점심에는 네이버 웹툰 등을 통해 웹툰을 탐색, 열람, 탐색, 열람을 거치면서 점심을 보내죠. 내가 좋아하는 웹툰이 많았다면 점심 끝날 때까지 보고 아니면 뉴스를 보기 위해 웹을 이탈하고 있습니다. 하루에는 짬짬이 시간나는 출근, 점심, 잠자기 전. 웹툰 신작이 나오는 월, 금, 토요일 그리고 그중 정말 내가 다음 화가 기대되는 에피소드였다든가 정말 좋아하는 최애 웹툰일 때는 구매하고 있습니다.
즉 이런 웹툰 라이프에서 추천시스템은 어떤 역할을 할까요? 왠지 느낌이 뻔하죠? 이런 말이 생각하더라고요. 사람들은 대부분 만들어서 보여주기 전에는 자신이 무엇을 원하는지 모른다. 스티브 잡스. 즉 추천시스템은 좋아하는 것을 찾아주면 웹툰 라이프가 어떻게 변하는지 다시 알아볼까요?
점심의 웹툰 라이프는 다른 웹으로 이탈하는 것을 막아주고요. 하루에 짬짬이 보던 웹툰은 다른 짬이 날 때까지 퇴근시간까지 보기도 하고요. 월, 금, 토만 보던 웹툰 라이프는 월, 화, 수, 목, 금, 토, 일 재방문도 늘어나기도 합니다. 그럼 실제적으로 초보에서 중급 아니면 헤비 이용했을 때 웹툰 이용자는 어떻게 변할까요? 실제 픽코마 웹툰 사용자가 초보에서 헤비 유저가 되기까지의 열람 수 분포인데요. 그래프가 아름답지 않나요? 지수적으로 아름답게 분포가 이루어지고 있습니다.
그럼 이렇게 사람들의 웹툰을 많이 소비하도록 하는 추천 시스템에 대해 알아보겠습니다. 알고리즘적으로 매출 중심적으로 여러분과 이야기 나누겠습니다. 지금 계속 이야기하는 픽코마의 추천 시스템은 두 가지의 큰 그림으로 이루어져 있습니다. 앱을 처음 켰을 때 바로 보여주는 개인화 추천과 만화를 읽고 나서 그와 연관된 추천을 보여주는 뷰와인드 추천으로 이루어져 있습니다. 개인화 추천은 헤비 유저로 만들기 위한 게 목적입니다. 작품별로 CTR이 높은 작품을 추천하는 거죠. 이럴 때 사용하는 건 MAB와 유저 클러스터링 기법으로 이루어지고 있습니다. MAB에 대해서 알아보겠습니다.
픽코마에는 다음과 같은, 뭔가 뿌옇죠? 다음과 같은 웹툰들이 있습니다. 이런 무수히 많은 작품이 있는데 이런 작품들은 픽코마 이용자의 전체 트래픽 중 일부 트래픽을 이용해서 유저들에게 노출을 해봅니다. 그리고 노출해보고 임프레션과 클릭, 피드백을 수집해서 다음과 같이 작품별로 CTR을 측정할 수 있습니다. MAB에서 익스플로레이션, 탐색이라는 과정을 통해서 유저가 얼마나 좋아하는지 측정합니다. 이렇게 측정한 CTR을 기반으로 CTR이 높은 작품들만을 쏙 뽑아내서 즉 익스플로이테이션, 활용하는 관점에서 뽑아내서 전체 90%의 트래픽에 노출해서 전체 CTR이 높아지는 알고리즘입니다.
탐색과 활용의 적절한 밸런스를 맞추는 게 중요합니다. 탐색 비율이 높으면 CTR이 낮은 재미 없는 웹툰에 트래픽되고 활용이 되면 재미없는 웹툰인데 그걸 우연히 좋아하는 애들만 노출돼서 측정됐다면 잘못된 CTR을 측정할 수 있고 둘 다 탐색 비율이나 활용 비율이 높아도 손실을 가져옵니다. 실제 서비스에서 어떤 이런 알고리즘이 좋은 성능을 낼까요? 다양한 알고리즘이 있습니다. 요즘에 구글 어널리틱스에서도 적용됐고 최근에 다양한 곳에서 실험적으로 적용되고 이론적으로도 좋다는 톰슨 샘플링을 사용하고 있습니다.
그럼 이런 MAB에 대해서 좀 더 자세히 알아보겠습니다. 지금 방금 설명드린 게 앱실론 그린이라는 기본적인 값인데요. 전체 트래픽이 1000만 개 유저들에게 노출할 수 있는 트래픽을 가지고 있다고 가정할 때 앱실론 값을 0.1이라고 하면 전체의 10% 100만의 트래픽을 노출합니다. 작품이 10개였다면 1만 개의 임프레션을 노출해보고 CTR을 측정하고 CTR이 예측됩니다. 원래 평균 CTR이 1.5였다면 4.7이라는 높은 CTR을 얻을 수 있습니다. 여기서 좀 더 고민할 거리가 있습니다. 탐색 비율과 활용의 비율이 적정한가.
그래서 한번 여기서 잠시 CTR이 낮은 1.5% 정도가 되는 작품의 CTR의 신뢰 구간을 보도록 하겠습니다. 실제 작품이 CTR이 1.5라는 것을 모르죠. 원래는 CTR이 가지고 있겠지만 몰랐을 때 임프레션 10개를 작품에 노출해보고 CTR이 얼마일까 측정해본다면 이런 분포에서 샘플링이 될 것입니다. 보시면 가장 일반적으로는 확률적으로 가장 높게 나오는 것은 실제 1.5라는 CTR의 값이 예측되겠지만 샘플링되겠지만 실제적으로는 10개의 임프레션 가지고 할 수 있는 건 99% 신뢰 범위를 본다면 많은 오차를 갖는 CTR이 예측될 수 있습니다.
좀 더 많이 트래픽을 투자해서 CTR을 측정해보면 이렇게 볼 수 있습니다. 50개의 임프레션으로 측정하면 신뢰구간이 좁아지죠. 100개의 임프레션으로 예측하면 CTR의 정확도가 신뢰구간이 점점 좁아지는 게 보일 겁니다. 뾰족하게 즉 CTR의 신뢰구간이 뾰족해지는 CTR이 수렴한다고 볼 수 있겠죠.
그러니까 많은 트래픽으로 CTR을 예측할수록 정확한 CTR이 예측된다는 것을 보여줍니다. 신뢰구간을 통해서. 그럼 여기에서 우리가 아까 앱실론 그리디 방식으로 1만 개를 예측했는데 적정한가 다시 보겠습니다.
실제 베스트 암이 되는 최소한의 CTR은 보시면 마지막 작품인 0.3이라고 가정하면 실제 다음과 같은 신뢰구간의 CTR 분포는 첫 번째 10개를 노출했을 때는 좀 리즈너블한 것 같아요. 3% 구간이 선택돼 있으니까. 50개 있을 때도 리즈너블, 100개도 탐색해보면 아직 CTR에 대해서 신뢰도를 측정할 필요가 있다고 보여지는데요.
1000개부터 보면 99%의 확률로 이 CTR은 맞다는 것을 데이터가 이야기하고 있습니다. 5000, 1만 개. 즉 실제 우리가 3% 이상만 추천해서 가정한다면 이 지금 같이 탐색해본 이 작품 CTR의 1.5%라는 작품은 추천하면 안 되죠. CTR을 처음에 모르잖아요. 계속 탐색을 거치는데 어디까지 하는 게 맞는가. 실제적으로 1000개 이상에서는 트래픽이 아깝죠. 이것은 당연히 우리가 추천해줄 3%보다 낮은 CTR이라는 것을 이 작품 평균 CTR이 낮다는 것을 증명해주고 있는데도 계속적으로 옵티멀 암이 아니더라도 임프레션을 소비하고 있습니다.
그럼 이런 경우 톰슨 샘플링은 어떻게 될까요? 톰슨 샘플링은 지금까지는 앱실론 그린이라는 방식은 모든 작품 동일하게 탐색에 쓰는 임프레션 양을 동일하게 부여했습니다. 톰슨 샘플링은 작품별로 암별로 현재 측정되는 임프레션을 넣어가면서 측정되는 CTR을 기점으로 기반으로 베타 분포로서 샘플링합니다. 즉 임프레션 10개가 주어지면 10개로 측정된 CTR은 베타 분포 첫 번째 작품이 10%일 때 첫 번째 베타 분포를 보면 아까 신뢰구간이 이렇게 컸을 때와 동일하잖아요.
이럴 때는 좀 더 탐색에 많이 활용되고요. 보시면 녹색 선 보이시죠? 이것들이 실제 샘플링되는 값이라고 보면 돼요. 50개 있을 때는 점점 실제 원래 작품이 가지고 있는 원래 CTR로 조금 더 수렴되고 100개 있을 때는 조금 더 수렴. 200개부터는 대부분 좀 이렇게 CTR인 0.1, 10% CTR로 측정됨을 볼 수 있고 1000개, 1만 개는 거의 수렴되는 느낌으로 볼 수 있겠죠. 작품 CTR이 조금 더 높은 작품도 동일하게 이루어져 있습니다.
이렇게 됐을 때 톰슨 샘플링은 만일 우리가 작품이 추천될 수 있는 최소 CTR이 15%라고 해보겠습니다. 미니멈 CTR이 3%였지 이번 경우에는 미니멈 CTR이 15%라고 가정하면 빨간 선보다 오른쪽에 있는 샘플링된 CTR들이 다 탐색으로 사용하는 트래픽이라고 보시면 될 것 같아요. 보시면 10개의 임프레션일 때는 좀 더 많게 탐색의 과정을 거치게 되겠고요. 50개 있을 때는 좀 더 줄어들었죠. 100개일 때는 그리고 200개의 임프레션 하고 나서 CTR 시점에는 실제적으로 탐색 과정이 끝났다고 보고 얘는 실제적으로 우리가 추천할 작품이 아니라는 게 판단돼서 모든 녹색 라인들이 다 빨간 라인의 왼쪽인 즉 탐색해봤더니 얘는 추천을 안 해줘도 되겠다고 활용을 하게 되는 거죠.
그렇다면 만일 작품이 원래 작품의 CTR이 25%인 우리가 추천돼야 할 그런 작품일 경우 어떻게 해야 할까요? 임프레션 10개할 때는 탐색이 계속 이루어지죠. 50개 탐색 이루어지고 100개, 200개일 때 점점 CTR이 수렴해감으로써 15%로 판단되면서 빠르게 수렴되고 활용되면서 트래픽을 인계해줄 수 있는 것이 보여지죠.
이것은 실제 픽코마라는 웹서비스에서 암들, 작품들의 트래픽을 줌으로써 작품들의 데이터 분포가 어떻게 변하는 것을 보여주고 있습니다. 라인 하나하나가 실제적으로 작품이라고 보면 돼요. 계속 탐색이 필요하다는 것을 의미하고 있습니다. 1만 개를 흘렸을 때는 좀 톡톡 올곧게 신뢰구간이라고 할 수 있는 게 좁아지면서 CTR이 수렴되는 작품이 보여지고 그중 앞에 있는 X축 오른쪽에 있는 값은 실제 활용된다고 보시면 돼요.
한 10만 개, 100만 개를 보여주면 모든 작품들이 CTR들이 어느 정도 적정히 수렴되는 걸 볼 수 있습니다. 이 그래프를 100만 개까지 다 이렇게 한번 흘려보내고 나서 이 암들에 대해서 해석을 해보겠습니다. 우선 그래프 하나하나 작품의 색깔이 실질적으로 임프레션된 양이라고 보면 돼요. 옅을수록 조금 노출, 많을수록 많이 노출이라고 보시면 될 것 같은데요. 보시면 CTR이 낮은 작품들은 흐릿하죠. 적당하게 트래픽을 주어지면서 CTR을 예측했다 그만두게 된 거고 CTR이 좋은 건 정확하게 예측되고 그중 높은 CTR들은 뾰족하고 오른쪽에 있는 것들은 많이 추천에 활용돼서 전체 CTR을 높였다고 보면 돼요.
보시면 이게 이처럼 톰슨 샘플링 MAB은 탐색과 활용의 트레이드오프를 암별로 옵티마이징해주고 있습니다. 손실을 최소화해주는 걸 볼 수 있었고요. 최근 실험적으로나 이론적으로나 다른 일반적인 MAB 알고리즘보다 톰슨 샘플링이 로킹한다는 걸 나타내줍니다. 그러면 우리는 작품의 CTR이 MAB를 통해 측정할 수 있습니다. 다른 문제가 있죠. 다음과 같은 이런 액션에 관련된 즉 남자들이 좋아할 웹툰을 누구에게 추천해주느냐에 따라서 CTR이 달라집니다.
즉 다음과 같은 이런 작품들을 30대 액션물을 좋아하는 유저에게 추천한다면 평균 CTR보다 높은 25%의 CTR을 기대할 수 있고 여성 만화만 좋아하는 유저에게 노출된다면 평균 CTR이 2.1%로 낮게 예측될 수 있습니다. 일반적인 유저는 7%라는 평균 CTR을 보장할 수 있고요. 즉 저희가 가장 CTR을 높게 하려면 유저별로 가장 CTR이 높은 작품들을 추천해주면 되겠죠.
그런데 그러면 문제가 있습니다. 모든 유저에 대해서 모든 작품에 대한 CTR을 추천해야 한다는 거예요. 어느 게 가장 좋아? 다 찍어봐, 이래야 되는 거죠. 그래서 하는 방식이 유저 클러스터링입니다. CTR이 비슷할 것 같은 유저끼리 모으고 모아진 유저들 내에서 작품들의 CTR을 예측하자, 측정하자는 콘셉트입니다. 만일 유저 클러스터가 8개라면 8개 곱하기 8000개, 6만 4000개만 측정하면 전체 CTR을 잘 만들 수 있겠죠. 열람 수를 많이 늘려줄 수 있겠죠.
유저 클러스터링, 여기서 중요한 가정은 동일한 웹툰을 열람하는 성향을 가지고 있다는 가정을 가지고 있습니다. 그럼 그 가정을 잘하려면 유저 클러스터링을 잘해야겠죠. 유저가 읽은 작품들이 비슷한 유저끼리를 클러스터링해주고 있습니다. 유저가 최근에 읽은 작품, 유저의 픽처를 적절하게 클러스터해서 서스펜스 복수 만화. 로맨스 여성 사무실물을 좋아하는 그런 유저들끼리 클러스터링할 수 있습니다.
그러면 그런 생각이 들잖아요. 이게 클러스터링 잘됐냐 안 됐냐, 이런 것에 대해서 고민이 들어요. 다양한 클러스터를 실제적으로 실험적으로는 그렇게 그런 스코어가 워킹하지 않더라고요. 정상적으로 탐색해봤습니다. 클러스터별로 유저 성별 분포가 어떤지 봤습니다. 웹툰 콘텐츠는 유저 성별에 의한 편향성이 큽니다. 남자는 액션, 스포츠 만화를 좋아하고 여성들은 로맨스 드라마 아니면 순정만화 같은 콘텐츠를 좋아하겠죠.
클러스터별 성별 분포를 보니 1, 5, 6, 7은 여성 중심, 0, 2, 3은 남성 중심으로 클러스터링된 걸 볼 수 있습니다. 그래서 1번 여성 중심 클러스터, 3번 남성 중심, 남녀가 적절하게 잘 보는 작품에 어떤 작품을 소비하고 있나 보겠습니다. 각 클러스터별 밑에 샵 클러스터 넘버입니다. 여성 중심인 1번 클러스터는 어떤 게 많이 소비되는 장르를 봤더니 연애, 드라마, 판타지 장르입니다. 뭔가 리즈너블, 남성 중심 3번은 스포츠, 판타지, 공포 위주 작품이 소비됐습니다.
남녀 모두 소비하는 4번 클러스터는 공포, 판타지, 드라마. 왠지 어중간한 장르 같아요. 마음의 눈으로 보면 와닿지 않나요? 클러스터링 잘 된 것 같아요. 조금 더 보도록 하겠습니다. 각 클러스터 어떤 태그에 소비됐나. 남성들이 좋아할 콘텐츠인 것 같아요. 4번은 미스테리, 공포, 배틀. 성별 소비 성향이 클러스터에 적절히 반영된 것으로 넓은 마음으로 본다면 그렇게 해석할 수 있지 않을까요? 그래서 개인화 홈 추천은 이런 점을 가지고 있습니다.
유저가 앱에 들어온다면 이 유저 과거 성향을 보고 과거 성향에 매칭되는 클러스터를 할당합니다. 인기작품들을 CTR을 측정하기 위한 즉 타겟팅을 하고요. 타겟팅된 작품에 대해서 MAB를 통해 CTR을 측정하고 랭킹합니다. 즉 유저가 볼 만한 작품을 타겟팅하고 유저가 타겟팅 대상된 작품을 MAB를 통해 랭킹하는 과정을 통해서 개인화 홈 추천을 구현하고 있습니다. 광고 시스템도 비슷하죠. 비슷한 맥락을 가지고 있습니다. 그래서 개인화 추천은 유저 클러스터와 MAB로 적용됐습니다.
그럼 연관 추천에 대해서 알아보겠습니다. 연관추천의 목적 동일하겠죠. 열람 수를 늘리기 위해. 어떻게 늘릴까요? 유사한 작품 중 CTR이 높을 것 같은 작품을 추천합니다. 관련된 모델은 유사한 작품을 뽑기 위한 작품의 특징 추출과 MAB 알고리즘을 사용하고 있습니다. 개인화 홈 추천은 타게터와 랭커 동일하고 기준값만 다르죠. 유저를 중심으로 타겟팅하느냐, 아이템을 기반으로 타겟팅하느냐. 그런 느낌으로 보시면 될 것 같아요. 연관 추천은 이 작품과 유사한 작품을 타겟팅하고 MAB를 통해 랭킹하고 있습니다.
다음과 같이 현재 보고 있는 작품과 같이 많이 본 또는 설명 즉 비슷한 썸네일이 유사한 작품을 뽑아서 추천해줍니다. 작품의 특징 추출은 어떻게 할까요? 어떤 데이터가 있을까요? 라고 보면 우리 만화는 그림을 보는 거잖아요. 당연히 대표 이미지가 있을 수 있고요. 그리고 작품의 설명, 작품 제목이라든가 설명으로부터 작품 스토리 픽처를 뽑을 수 있고 가장 좋은 유저들의 피드백을 통해서 CF 픽처를 뽑을 수 있습니다. 만일 이러한 작품 특징이 잘 추천된다면 비슷한 작품끼리는 아마 모여 있을 거고요.
유사한 장르끼리 모여 있을 것입니다. 이렇게 색깔이 예쁘게요. 잘 뭉쳐져 있는 것 같지 않나요? 마음의 눈이 필요하겠죠. 자기가 만든 건 믿음이 좀 필요하더라고요. 잘됐다고 가정하고 실험을 시작하면 됩니다. 이렇게 독고라는 작품을 뽑을 때 다양한 픽처를 사용하고 있습니다. 대표 이미지와 스타일이 비슷한 픽처를 뽑기 위해서 딥러닝 중 스타일이 비슷한 작품을 뽑고 오브젝트 디텍션을 통해서 오브젝트가 비슷한 사람이 있는 것끼리 유사한 작품들을 추출하기도 하고 작품이 돼 있는 키워드가 비슷한 작품을 찾기 위해서. 가장 잘 워킹하는 모델이죠. 유저들이 소비한 아이템과 유저의 상관관계를 적절하게 팩토리제이션 모델 상품을 추천합니다. 유사할 것 같은 작품을 마구 뽑아냅니다. CTR이 높을 것 같은 걸 예측하면 되겠죠.
아까 설명드린 MAB를 통해서 CTR을 예측하고 측정하고 그중 CTR이 높을 것 같은 걸 추천하면 바로 연관추천이 완성됩니다. 그래서 동일하게 이런 유사도가 높은 작품을 타깃팅하고 MAB를 통해서 랭커를 만들어서 연관추천을 해주면 잘 되겠죠. 연관추천은 유사작품 MAB 모델을 가지고 있습니다. 지금은 일반적으로 열람 중심 사람들에게 많이 열람하는 걸 목적으로 갖습니다. 이걸 먼저 이루고 나면 다른 니즈는 돈이겠죠. 이제는 잘 되는 것 같아요. 그 대신 돈을 많이 벌어줬으면 좋겠다고 하면 알겠습니다 그러죠.
구매 중심으로 여러 가지 실험을 했습니다. 열람 중심은 다음과 같이 추천했을 때 임프레션을 줬을 때 무료, 유료든 그런 것을 열람하는 클릭을 최대화하되도록 구현했습니다. 구매 중심은 유료 열람 유저 코인을 이용한 열람을 최적화하도록 하는 게 목적이었습니다. 이걸 듣고 느낌이 오죠. 타게터와 랭커로 이루어졌다면 이런 실험을 많이 했습니다. 바로 매출 중심으로 MAB을 만들어보자고 했습니다. 픽코마 MAB는 다음과 같은 톰슨 샘플링, 리워드로서 클릭을 쓰고 있습니다. 다양한 걸 쓰고 있고 2개를 봐야겠다고 생각하고요.
그러면 매출 중심이니까 유즈 코인 돈 주고 보는 열람으로 최적화하자. MAB 리워드를 클릭해서. 결과는 어땠을까요? 바로 폭망이었습니다. 실험군 데이터인데요. 기존 열람 기반했을 때 대비해서 20%의 열람 전환율이 떨어졌습니다. 실험 빨리 종료해야겠죠. 왜 떨어졌을까. 1차적으로 생각하면 유저코인을 한 게 수렴되지 않았을까? 결론 분석을 조금 이따 해보고 다시. MAB를 가지고 하면 구매자 최적화하는 거죠. 유저들이 작품을 소비할 때 이런 패턴을 가지고 있습니다. 작품을 추천해주고 나면 무료 열람을 하기 위해서 클릭합니다. 클릭 전환합니다. 무료 열람하고 유료 열람.
이런 종속 관계를 둘 때 이동해보자. 첫 번째 기존 MAB와 동일하게 리워드는 클릭 기반으로 MAB를 돌립니다. 추천의 성능도 올리고 올리고 나서 한 번 더 랭킹을 다시 합니다. 구매 전환 유즈 코인 베이스로 예전에는 임프레션과 클릭으로서 MAB을 구현했다면 두 번째 MAB는 유즈 코인과 클릭으로 구현합니다. 실제로 소비하는 패턴과 동일하게 종속관계 사건을 기반으로 모델링했습니다.
결과는 시원치 않더라고요. 실험군이 대조군을 이기지 못했습니다. 거의 비등했네요. 이제 좀 해석해보면 두 번째 MAB 수렴이 보장되지 않는다는 결론을 내볼 수 있어요. 다른 실험을 했습니다. 우리가 유료열람을 하기 위해서는 지속적으로 에피소드를 소비해야 한다. 리텐션이 높은 작품을 추천해줘야 한다는 가설을 세우고 실험합니다. 열람 지속 스코어가 높은 작품을 타깃팅하는 작품에, 이 작품과 비슷한 작품뿐만 아니라 열람지속율이 높은 작품 포함해서 MAB를 돌렸습니다. 그 결과는 예측되죠? 열람 전환율은 올라갔지만 실제 구매 전환율은 증가가 없었습니다.
왜 상승하지 않을까? 계속 의문이 생깁니다. 또 다양한 실험도 했습니다. 우리가 노출했을 때 이 유저에게 A라는 작품을 노출했을 때 클릭하지 않았다면 네거티브한 약한 피드백이잖아요. 그럼 패널티를 랭킹할 때 주자. 실험해봤습니다. 당연히 열람전환율 CTR은 올랐는데 구매전환율은 오차범위 내였어요. 아까 봤던 유저가 좋아하는 클러스터를 하나의 클러스터만 할당하는 게 아니라 여러 개. 드라마, 액션 좋아하는 유저도 있잖아요. 유저의 픽처를 매칭하기도 하고. CTR은 계산되는데 CVR, 구매전환율은 오차 범위였더라고요. 다시 고민하기 시작했습니다.
왜 실험 구매 지표는 개선이 없는지. 유료 열람 데이터로 최적화 가능한지 원론적인 고민. 독자들은 유료작품을 어떻게 열람할까요? 지금까지 설명드린 그대로입니다. 추천한 작품을 보고 작품을 클릭하고 무료열람을 하고 지속열람을 하고 유료열람을 합니다. 뭔가 느낌이 좀 오려고 하지 않나요? 추천부터 시작해서 유료열람까지 되게 긴 터널을 가지고 있어요. 전환율을 측정해봤습니다. 실제 노출 대비 유료 열람은 0.07%. 즉 0.1% 미만의 전환율을 가지고 있어요. 이걸 최적화할 수 있을까? 거기다 최초 무료열람하고 나서 실제 유료열람까지 시간은 4.6일입니다. 엄청 길죠. 갑자기 난제가 생긴 느낌이에요. 이걸 더 풀 수 있을까?
구매전환율은 낮고 구매 피드백은 지연된다는 특징을 가집니다. 웹툰이라든가 에피소드 콘텐츠를 소비하는 데서는요. 구매 최적화를 위한 A B 실험 지표 측정이 어려웠습니다.
그리고 또 우리 추천의 알고리즘은 유저들이 읽지 않은 제품을 추천해줘요. 즉 이런 세팅, 이런 세팅에서 최초 열람 유도가 추천에 의한 열람 유도가 지속 열람과 유료 열람 인과관계로 가져갈 수 있을까 고민이 됐고 측정을 해봤습니다. 추천해주고 작품을 클릭하고 1, 2, 3화 연속적으로 열람했을 때 전환율이 어떻게 될까? 그럴 때 추천 로직과 비추천 로직이 어떤 차이가 있을까. 개인화 추천을 하지 않은 실험군 대조군이고 다른 것들은 다른 로직을 비교해봤습니다.
실제 클릭으로 전환되는 비율은 다음과 같이 베이스 대비해서 개인화 추천 대비해서 250% 엄청난 성과를 이뤄낼 수 있었고 그런데 저 끝에 클릭 대비 전환율을 본다면 추천에 의해서 선택되고 이 작품이 재밌다는 작품으로 선택되고 난 다음 열람전환율은 신기하게 에디터가 픽했던 열람전환율이 42%가 높아졌습니다.
구매전환율은 추천에 의해서도 인과관계를 가질 수 있지만 딜레이드되어서. 그렇지만 더욱 큰 상관관계는 작품의 품질과 유료결제 경험에 의한 것이라고 알아냈습니다. 오늘의 주제. 어떤 결론이 나왔을까요? 각자 잘하는 거 잘하자. 개인화 추천 연관 추천은 열람 작품을 늘리는 데 목적 두고 초급 이용자를 중급, 헤비 유저로 만들고 타깃팅 푸시, 지속 열람자의 유료 전환. 이 사용자에게는 코인 주면 열람전환율 늘겠는데? 이런 거로 목표를 두자.
픽코마를 만드는 사람들입니다. 지금 발표드린 내용은 다 제가 한 게 아니고 이분들이 한 걸 제가 데이터 분석만 한 내용이라고 보면 돼요. 카카오 추천팀에서는 픽코마뿐만 아니라 다른 것도 추천하는데 같이 일할 동료를 많이 찾고 있습니다. 많이 지원해주시면 감사드리겠습니다. 감사합니다. 혹시 질문 있으실까요?
-안녕하세요? 발표 잘 들었습니다. 쓴 글도 읽어봤던 기억이 납니다.
-감사합니다.
-제가 궁금한 게 세 가지가 있는데 첫 번째는 매트릭스 팩토라이제이션을 임플리스트 데이터로 사용했다고 하셨는데 어떤 식으로 사용했나 궁금하더라고요. 어떤 식으로 사용했는지.
-매트릭스 이건 여기서 설명드리기 애매하고 임플리시트 ARS 검색하시면 아마 이렇게 잘 얘기될 것 같아요. 제가 설명하는 것보다 더 잘하시는 분들이 설명드려서 그걸 보는 게 낫지 않을까 권해드립니다.
-또 한 가지 질문 있는데 유저 클러스터링할 때 8개 클러스터링하셨는데 어떻게 8개로 설정하셨는지 기준이 궁금해서요.
-현재는 이후 실험을 더 해서 소프트 클러스터 방식을 사용하고 있습니다. 내가 좋아하는 것들, 내가 드라마를 좋아하는 확률이 얼마일까? 이렇게 하나의 클러스터가 아닌 여러 개의 토픽을 가지고 있는 클러스터로 하고 있고 아까 케이에 대한 측정은 정상적으로 탐색을 우선 많이 하고 그다음에 하는 건 결과적으로 AB 테스팅으로 합니다. 실제 서비스를 큰 트래픽에서 할 수 있는 환경이 된다면.
-또 한 가지 궁금한 게추 천하다 보면 추천하는 것만 추천하고 추천이 안 되는 것들도 분명히 있게 되잖아요. 그런 부분은 어떤 식으로 보완하시는지.
-우선 다양한 픽처를 뽑을 때 아까 보시면 이미지를 이용해서 이미지가 유사한 작품들 아니면 CF 기반 아니면 제목이 비슷한, 이런 걸 통해서 작품의 다이버시티를 유도하고 또 여러 가지 타깃팅 로직에 다양한 풀을 섞어서 다이버시티를 해결해보고 있습니다. 시간이 다 돼서 오늘은 여기까지 해야 할 것 같습니다. 감사합니다.