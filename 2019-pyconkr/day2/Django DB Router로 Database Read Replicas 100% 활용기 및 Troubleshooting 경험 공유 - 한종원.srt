1
00:00:02,400 --> 00:00:07,860
안녕하세요 일요일 아침부터 교신 분들 여러분 환영합니다

2
00:00:07,860 --> 00:00:10,650
저는 장고 데이터베이스 라우터로

3
00:00:10,650 --> 00:00:15,360
데이터베이스 리플리카 100% 활용기

4
00:00:15,360 --> 00:00:22,780
아직 화면이 안 나왔네요 잠시만요 다시 말씀 드립니다

5
00:00:22,780 --> 00:00:25,550
저는 이제 잔고 데이터베이스 라우터로

6
00:00:25,550 --> 00:00:29,140
데이터베이스 리들리 칼을 200% 활용 하는 방법과

7
00:00:29,140 --> 00:00:34,450
그리고 트러블슈팅 경험담을 공유해 발표한 중입니다

8
00:00:34,450 --> 00:00:36,680
저희 회사에서 실제로 제 1장

9
00:00:36,680 --> 00:00:39,270
고혜진 멀티 데이타베이스를 연동에서 쓰고 있는데요

10
00:00:39,270 --> 00:00:44,950
그 과정에서 그거 어떤 그런 경험담 대로 오늘 소개해드리겠습니다

11
00:00:44,950 --> 00:00:48,030
혼자 이젠 발표자인 저를 잠깐 소개해드리겠습니다

12
00:00:48,030 --> 00:00:51,720
저는 이제 2012년도에 스타트업을 하면서 시작하면서

13
00:00:51,720 --> 00:00:54,790
그때부터 이제 회사에 메인개발 원으로

14
00:00:54,790 --> 00:00:57,090
파이썬을 지금 사용하고 있습니다

15
00:00:57,090 --> 00:01:00,390
현재는 인공지능 자동화 솔루션

16
00:01:00,390 --> 00:01:02,690
에이치비스미스 대표를 맡고 있고요

17
00:01:02,690 --> 00:01:04,260
그 저희 회사는 api 서버 도

18
00:01:04,260 --> 00:01:06,740
지금 현재 참고로 이제 작성 되어 있고

19
00:01:06,740 --> 00:01:11,070
어드민 관리자웹 콘솔도 역시 장으로 작성되어 있습니다

20
00:01:11,070 --> 00:01:12,860
저희 회사는 이제 장 보러 공장

21
00:01:12,860 --> 00:01:15,790
이제 적극적으로 활용하는 업체인데요

22
00:01:15,790 --> 00:01:17,770
친자 저희는 이제 장고걸스

23
00:01:17,770 --> 00:01:21,260
대전 일하는 데 그런 의미에서 자기가 하고 있고요

24
00:01:21,260 --> 00:01:24,560
그래서 저희가 혹시 이제 잔고 회관에서 관심있거나

25
00:01:24,560 --> 00:01:26,610
잠금화면 업무를 점심으로 하고 싶다

26
00:01:26,610 --> 00:01:28,340
하신 분이 저희 사무실 같이

27
00:01:28,340 --> 00:01:33,880
즐겁게 일을 하실 수 있을 것 같습니다 오늘 발표 내용 입니다

28
00:01:33,880 --> 00:01:39,080
먼저 데이터베이스의 인프라로 이제 아마존 웹 서비스 aws

29
00:01:39,080 --> 00:01:41,310
이제 오로라 rds 가 무엇인지

30
00:01:41,310 --> 00:01:44,970
왜 이거 썼는지 에 대해서 어제 소개해드리고 핵심기능 주현아

31
00:01:44,970 --> 00:01:47,840
이제 리드 리플리케이터 어떻게 구성할 수 있는지

32
00:01:47,840 --> 00:01:51,280
그런 것도 소개해드린 다음에 이거 이제 장고의 데이터베이스

33
00:01:51,280 --> 00:01:53,630
라우터란 기능을 소개해드리고

34
00:01:53,630 --> 00:01:57,170
저희가 이거를 데이터베이스 라우터를 작성하면서

35
00:01:57,170 --> 00:01:59,050
어떤 문제가 있어서 톡을 수정하고

36
00:01:59,050 --> 00:02:02,060
또 문제 있어서 수정하는 그 과정들을 뒤에 설명해드리겠습니다

37
00:02:02,060 --> 00:02:04,650
총어 정원에서 버전 5까지

38
00:02:04,650 --> 00:02:08,640
이렇게 버전으로 바꿔 같고요

39
00:02:08,640 --> 00:02:10,560
먼저 데이터베이스 인프라입니다

40
00:02:10,560 --> 00:02:16,160
저는 이제 2006년도에 게임 회사에서 실제로 이제 DB

41
00:02:16,160 --> 00:02:18,830
관리자 디비라 그런데 DB 관리자로

42
00:02:18,830 --> 00:02:21,570
이제 업무 빅토리아 시작했음

43
00:02:21,570 --> 00:02:24,580
그때 당신은 이제 idc 에 들어가 가지고

44
00:02:24,580 --> 00:02:27,600
물리서버 에다가 오퍼레이팅 시스템 좀 설치하고

45
00:02:27,600 --> 00:02:30,560
dbms 도 직접 설치한 다음에 설치하고

46
00:02:30,560 --> 00:02:33,000
컴퓨터 한다고 최적화도 하고

47
00:02:33,000 --> 00:02:36,160
그런 거 전부 다 제가 직접 하면서

48
00:02:36,160 --> 00:02:38,550
게임서버를 이제 dwg 운영했었습니다

49
00:02:38,550 --> 00:02:42,650
지금 살펴보면 굉장히 제 오래된 방법이 거 같애 보니까

50
00:02:42,650 --> 00:02:46,400
지금 방법이 굉장히 원시적인 방문이라고 할 수 있게 미션

51
00:02:46,400 --> 00:02:49,300
2012년도에 제가 처음으로 JW

52
00:02:49,300 --> 00:02:51,760
퍼블릭클라우드 를 접하게 되었습니다

53
00:02:51,760 --> 00:02:55,730
그때부터 이제 가상머신 부임을 이상하게 되었네요

54
00:02:55,730 --> 00:02:58,690
이때 이유로부터 제가 제 데이터베이스 서버를 운영할 때

55
00:02:58,690 --> 00:03:01,330
크게 두 가지 방식 중 이제 선택하게 되는데

56
00:03:01,330 --> 00:03:03,550
첫 번째 방식은 20% 하는 가상서버

57
00:03:03,550 --> 00:03:06,000
에다가 dbms 를 설치하는 방법이고

58
00:03:06,000 --> 00:03:07,870
두 번째 방식은 아이입니다

59
00:03:07,870 --> 00:03:09,990
dbms 까지 설치가 되어 있는

60
00:03:09,990 --> 00:03:11,420
아마존 에서 제공하는 ibs

61
00:03:11,420 --> 00:03:15,100
란 서비스를 사용하는 방법입니다

62
00:03:15,100 --> 00:03:17,390
클라우드 인프라를 이제 보시면

63
00:03:17,390 --> 00:03:20,330
이제 클라우드인프라 대해서 굉장히 여러가지 제모

64
00:03:20,330 --> 00:03:21,130
초상화 레벨을 이렇게

65
00:03:21,130 --> 00:03:24,030
여러 가지 구별 지을 수 있는데요

66
00:03:24,030 --> 00:03:29,090
가장 흔하게 공지는 방법이 메뉴 있는지 사스 잠시만요

67
00:03:29,090 --> 00:03:33,080
커서가 사스란 방법이 있고

68
00:03:33,080 --> 00:03:36,390
그 다음으로 플랫폼에서 서비스로 파스가 있고

69
00:03:36,390 --> 00:03:39,890
그 밑에 이제 인프라 대전 서비스 있습니다

70
00:03:39,890 --> 00:03:45,190
그리고 제가 그 게임에서 근무할 때 한 번 방문 이거는 클라우드가

71
00:03:45,190 --> 00:03:48,350
아니 진짜로 이제 숙제 물리머신 하는 거죠

72
00:03:48,350 --> 00:03:51,530
제가 아까 말씀드렸던 첫 번째 방법은 20초 에다가

73
00:03:51,530 --> 00:03:53,220
dbms 를 설치하는 방법은

74
00:03:53,220 --> 00:03:56,760
이제 클라우드 인프라 초상화 레벨 상에서는 갑니다

75
00:03:56,760 --> 00:04:00,030
그래서 오퍼레이팅시스템 가지는 이미 설치되어 있는 상태에서

76
00:04:00,030 --> 00:04:02,900
전 이제 제가 원하는 지피에스 설치 하면 되죠

77
00:04:02,900 --> 00:04:04,320
그리고 아이디스는 이제

78
00:04:04,320 --> 00:04:07,210
좀 모임이 dbms 까지 설치 하기 때문에 어떻게 보는지

79
00:04:07,210 --> 00:04:09,780
플랫폼 다 가사와 같이 있기 때문에

80
00:04:09,780 --> 00:04:12,640
파스 레벨에 톡 한다고 쓰면 됨

81
00:04:12,640 --> 00:04:13,460
어부심 하겠지만

82
00:04:13,460 --> 00:04:17,050
이제 그 오른쪽에 그 회색과 파란색을 되는데

83
00:04:17,050 --> 00:04:17,980
회색이 쓰고 있다

84
00:04:17,980 --> 00:04:19,180
회사 일이 많으면 많을수록

85
00:04:19,180 --> 00:04:22,140
클라우드 벤더가 직접 관리 좀 부리지마 것입니다

86
00:04:22,140 --> 00:04:24,950
즉 파스는 이에스 보다 훨씬 더 클라우드

87
00:04:24,950 --> 00:04:26,690
서비스 업체에서 대신

88
00:04:26,690 --> 00:04:30,080
관리해준 부분이 굉장히 더 많이 있습니다

89
00:04:30,080 --> 00:04:32,710
그렇기 때문에 제가 예전에 이젠 좀 약간

90
00:04:32,710 --> 00:04:36,330
과거에 원시적인 방법으로 이제 데이터베이스를 관리

91
00:04:36,330 --> 00:04:40,170
직접 플랫폼 쪽에 많은 시간을 보냈네요

92
00:04:40,170 --> 00:04:41,980
관리하는데 설치도 해야 되고

93
00:04:41,980 --> 00:04:44,400
최적화도 되냐고 계정 관리도 되고

94
00:04:44,400 --> 00:04:46,670
퍼미션 관리도 되고 이런 것도 있었는데

95
00:04:46,670 --> 00:04:47,850
rds 같은 게 뭐냐

96
00:04:47,850 --> 00:04:53,140
풀맨 이들이라고 해서 아마존 aws 에서 dbms 설치

97
00:04:53,140 --> 00:04:53,920
최적화

98
00:04:53,920 --> 00:04:56,740
보안 로깅 모니터링 같은 부분들을 다

99
00:04:56,740 --> 00:04:58,330
알아서 해 줍니다

100
00:04:58,330 --> 00:05:01,390
어떻게 본젠 DB 입장에서는 굉장히 편해 좀 넣어 줘

101
00:05:01,390 --> 00:05:01,930
하지 마

102
00:05:01,930 --> 00:05:06,000
이제 요즘에 그래서 프리메이드 디스 하는 일이 없는 게

103
00:05:06,000 --> 00:05:08,840
아니 기존에는 플랫폼 쪽에 많은 시간을 보냈다 며

104
00:05:08,840 --> 00:05:10,050
이제는 어플리케이션 내가

105
00:05:10,050 --> 00:05:12,220
이쪽에서 이제 많은 시간을 보낼 수 있게 되었습니다

106
00:05:12,220 --> 00:05:13,790
저도 저 역시도 이제

107
00:05:13,790 --> 00:05:17,030
이렇게 이제 예전엔 플랫폼에 좀 시간을 많이 들었기 때문에

108
00:05:17,030 --> 00:05:20,140
오늘 발표 와 같은 일어났던 다양한 멀티

109
00:05:20,140 --> 00:05:21,090
데이터베이스연결 한다

110
00:05:21,090 --> 00:05:21,940
이런 것들을 하는데

111
00:05:21,940 --> 00:05:24,920
시간이 오래 걸리네 지금은 이제 그런 것들을 알겠어

112
00:05:24,920 --> 00:05:27,850
어느정도 많이 대문에서 커버 해주기 때문에

113
00:05:27,850 --> 00:05:29,880
어플릭션 내려서 장골의 해서

114
00:05:29,880 --> 00:05:32,280
이렇게 같은 것들을 좀 이렇게

115
00:05:32,280 --> 00:05:34,140
이렇게 이렇게 저장을 해 보려고

116
00:05:34,140 --> 00:05:39,510
반드시 가질 수가 있는 거죠

117
00:05:39,510 --> 00:05:42,880
사실 집에 있잖아 알겠어요 굉장히 혁신적인 썼습니다

118
00:05:42,880 --> 00:05:43,890
2010년도에 나왔고요

119
00:05:43,890 --> 00:05:46,300
근데 아마존 이거에 만족하지 않고

120
00:05:46,300 --> 00:05:49,180
오픈소스 에스겔의 직접 자기들이 수영을 합니다

121
00:05:49,180 --> 00:05:51,440
수정을 해 가지고 이클라우드 자기네

122
00:05:51,440 --> 00:05:53,160
자사의 클라우드인프라 일에 좀 넣어

123
00:05:53,160 --> 00:05:56,440
최적화된 형태로 커스터마이징하는 버전이 이제 오로라

124
00:05:56,440 --> 00:06:00,300
rds 를 넌 쳐야 된다 2014년도 나왔고요

125
00:06:00,300 --> 00:06:03,820
수정사항은 이제 아마존 에서 공개하지 순 없지만

126
00:06:03,820 --> 00:06:06,400
국제부부 오빠도 이제 클라우드 인프라 사용할 때

127
00:06:06,400 --> 00:06:08,100
이제 우리가 왜 클라우드 인프라 쓰는가

128
00:06:08,100 --> 00:06:13,650
가장 큰 강점은 탄성적으로 유연하게 mars-KS 다른 거죠

129
00:06:13,650 --> 00:06:18,100
예 스퀘어 없다 온나 skinhead 수직상승하게

130
00:06:18,100 --> 00:06:20,210
수평확장 축소를 굉장히 쉽게

131
00:06:20,210 --> 00:06:21,700
할 수 있다는 장점이 있는데

132
00:06:21,700 --> 00:06:22,650
오로라 TV 는

133
00:06:22,650 --> 00:06:25,460
이제 기존의 dvids 비해서

134
00:06:25,460 --> 00:06:28,770
훨씬 더 이렇게 스케일러블 타고 있습니다

135
00:06:28,770 --> 00:06:29,790
오늘의 주제는 이제

136
00:06:29,790 --> 00:06:33,220
리드미피부과 같은 거는 총 밖에까지 붙일 수가 있구요

137
00:06:33,220 --> 00:06:34,850
별 5 개를 붙였다 뗐다 하는데

138
00:06:34,850 --> 00:06:36,790
저는 서비스 다운타임이 없고요

139
00:06:36,790 --> 00:06:38,530
그리고 멀티 데이터베이스

140
00:06:38,530 --> 00:06:41,560
부동산디비 환경을 구축해 보시면 알겠지만

141
00:06:41,560 --> 00:06:45,450
가장 골치아프고 큰 이슈를 하나가 리플리케이션 들어가네

142
00:06:45,450 --> 00:06:47,130
데이터 싱크 동기 한대요

143
00:06:47,130 --> 00:06:52,400
이동기 속도가 밀리세컨드 내에서 이제 해결이 됩니다

144
00:06:52,400 --> 00:06:55,660
저도 이거를 이제 진짜 물리서버 에서 멀티 데이터베이스

145
00:06:55,660 --> 00:06:57,910
요렇게 해가지고 분산처리를 구성해 봐

146
00:06:57,910 --> 00:07:02,530
내가 그 당시에 구성했던 거는 세컨드 정도 차이가 나서 어

147
00:07:02,530 --> 00:07:06,790
이게 이젠 뭐 할 건지 때문에 끝내죠

148
00:07:06,790 --> 00:07:09,760
타이밍에 딱 위에 데이터가 제대로 보이지 않는

149
00:07:09,760 --> 00:07:11,360
그런 계속 발생 되었습니다

150
00:07:11,360 --> 00:07:14,550
근데 오로라 같은 연예인 인프라랩 에서 알아서

151
00:07:14,550 --> 00:07:16,890
이제 수업 밀리세컨드 내로

152
00:07:16,890 --> 00:07:19,770
동기화가 때문에 거의 동일한 데이터를 보고

153
00:07:19,770 --> 00:07:26,350
보고 있다고 정도로 굉장히 경기가 빠른 이런

154
00:07:26,350 --> 00:07:27,520
이제 그 오로라 TV

155
00:07:27,520 --> 00:07:30,030
에는 접근하는 이 주소 엔드포인트 알아보는데요

156
00:07:30,030 --> 00:07:31,940
내가 이제 다 있습니다

157
00:07:31,940 --> 00:07:34,530
이제 오른쪽에 보시면 첫 번째 같은 애

158
00:07:34,530 --> 00:07:37,730
빨간색 표시 되어있는 클러스터 엔젤폰 된다

159
00:07:37,730 --> 00:07:39,330
요번에 이제 입기 읽고

160
00:07:39,330 --> 00:07:41,300
쓰기가 전부 다 가능한 라이터

161
00:07:41,300 --> 00:07:44,010
인스턴스에 이제 붙을수있는 이제 주소 하고요

162
00:07:44,010 --> 00:07:47,100
두 번째는 이제 리더 핸드폰 있던데

163
00:07:47,100 --> 00:07:49,830
리플리케이션 이라고 부르기도 하고

164
00:07:49,830 --> 00:07:51,500
믿어라 부른데 보신

165
00:07:51,500 --> 00:07:54,780
오른쪽에 같이 핸드폰이 두 개

166
00:07:54,780 --> 00:07:56,930
믿어 믿어 1일부터 있는데

167
00:07:56,930 --> 00:07:57,710
너도 핸드폰 인터넷

168
00:07:57,710 --> 00:07:59,680
이제 읽기전용으로 리더들 가면

169
00:07:59,680 --> 00:08:03,030
이제 24시간의 로드밸런싱을 해 주는 여정입니다

170
00:08:03,030 --> 00:08:05,110
그거 세 번째는 커스텀 핸드폰 있던데

171
00:08:05,110 --> 00:08:08,140
요건 뒤에 가서 좀 더 설명 드리겠습니다

172
00:08:08,140 --> 00:08:10,400
다음으로 마지막으로 인스턴스 핸드폰이 된다

173
00:08:10,400 --> 00:08:11,880
이제 클로스 단위로

174
00:08:11,880 --> 00:08:13,850
이제 그 저거 한 게 아니라

175
00:08:13,850 --> 00:08:16,940
밑에보시면 오른쪽에 보시면 점 세 개 있었어 있죠

176
00:08:16,940 --> 00:08:20,120
라이터가 이더제로 리더 원 이거 갑자기 있었어요

177
00:08:20,120 --> 00:08:22,980
내가 직접적으로 접근하고 싶을 때 쓰는 중인데요

178
00:08:22,980 --> 00:08:27,100
사실 저는 예술제 실무에서 저기서 사인을 적분하면

179
00:08:27,100 --> 00:08:27,720
거기 없더라고요

180
00:08:27,720 --> 00:08:30,080
대본 클러스터 다음에 이거 핸드폰

181
00:08:30,080 --> 00:08:34,230
트 컬쳐랜드 포인트죠

182
00:08:34,230 --> 00:08:36,250
그거 제클라우드가 좀 사면 되잖아

183
00:08:36,250 --> 00:08:40,280
클러스터는 제가 말씀 인스턴스들이 집합입니다

184
00:08:40,280 --> 00:08:43,170
한 개 이상의 인스턴스가 포함되어 있는 형태의

185
00:08:43,170 --> 00:08:44,130
그룹 있고요

186
00:08:44,130 --> 00:08:46,400
그래서 이제 여러가지 라이트

187
00:08:46,400 --> 00:08:48,860
easyjet 몇 개를 없냐

188
00:08:48,860 --> 00:08:51,420
땅에 떨어진 이런 추억들이 가능함

189
00:08:51,420 --> 00:08:53,590
첫 번째 종합 언제 가장 심플하죠

190
00:08:53,590 --> 00:08:56,720
하나의 오직 하나의 라이터 있었어 있는 구조입니다

191
00:08:56,720 --> 00:08:59,110
1학기 문제 없다고 설명드렸던 라이터

192
00:08:59,110 --> 00:09:01,420
인스턴스와 믿어 라이터 마인드포인트

193
00:09:01,420 --> 00:09:02,810
와 이거 핸드폰이 더 동일하게

194
00:09:02,810 --> 00:09:05,860
라이터를 동일한 위치를 갖게 되고

195
00:09:05,860 --> 00:09:06,590
그 두 번째 거 하고

196
00:09:06,590 --> 00:09:08,100
이제 하나의 라이터가

197
00:09:08,100 --> 00:09:10,230
하나의 리더를 갖고 있는 클러스터 입니다

198
00:09:10,230 --> 00:09:12,190
이렇게 되면 저희 때부터 좀 갈라지기 착하죠

199
00:09:12,190 --> 00:09:14,420
클럽 쌓이는 포인트는 라이터를 기고

200
00:09:14,420 --> 00:09:16,410
디자인포인트 막힌다

201
00:09:16,410 --> 00:09:19,130
그 마지막 세 번째 저희 현재 저희 회사에서

202
00:09:19,130 --> 00:09:20,910
상황은 구덩이 한 개

203
00:09:20,910 --> 00:09:23,640
라이트와 복수개의 이제 리더로부터 출격이다

204
00:09:23,640 --> 00:09:24,840
금방 갔어 설명회 등록처

205
00:09:24,840 --> 00:09:28,740
클러스터는 마이크 스탠드 포인트는 라이터로 하고

206
00:09:28,740 --> 00:09:30,930
이제 리더들 몇 개 있다

207
00:09:30,930 --> 00:09:33,190
많이 두 개는 세 개

208
00:09:33,190 --> 00:09:36,380
열 개 해 주는 돈을 갖고 있습니다

209
00:09:36,380 --> 00:09:40,570
참고로 제가 이 발표를 이미 뭐 준비할 때는 어떤 건데

210
00:09:40,570 --> 00:09:42,390
2주 전에 새롭게 편인데요

211
00:09:42,390 --> 00:09:43,420
제가 지금 계속 보시면

212
00:09:43,420 --> 00:09:46,230
제 모든 라이터 하나 밖에 없잖아요

213
00:09:46,230 --> 00:09:49,370
지금까지 저번 달까지는 이게 제한 조건으로

214
00:09:49,370 --> 00:09:50,630
제일 라이터가 오직

215
00:09:50,630 --> 00:09:53,210
한 개만 추가 싶다는 제한조건 있었는데

216
00:09:53,210 --> 00:09:54,330
2주 전에 8월 8일 날

217
00:09:54,330 --> 00:09:57,230
아마존에서 이제 라이터 두 개 이상 붙일 수 있게

218
00:09:57,230 --> 00:09:59,340
좀 더 이제 그 기능을 확장했습니다

219
00:09:59,340 --> 00:10:02,370
그리고 저희 회사도 이제 그럼 멀티라이트 알아봤는데

220
00:10:02,370 --> 00:10:04,250
멀티 라이터를 한번 구입하려고 주는

221
00:10:04,250 --> 00:10:06,240
저희가 좀 표시를 해 보려고 하고 있고요

222
00:10:06,240 --> 00:10:08,930
오늘 발표에서는 라이터 하나만 있는 형태로

223
00:10:08,930 --> 00:10:15,380
만제 말씀드리고 있어 마주치지 신분증 있겠지만

224
00:10:15,380 --> 00:10:17,990
그 클러스터구성 에 따라서 플러스 &

225
00:10:17,990 --> 00:10:20,790
P L A N D P 주소 IP 주소가 바뀌는데요

226
00:10:20,790 --> 00:10:23,010
그럼 이제 실제로 이제 클러스터구성 바꾸고

227
00:10:23,010 --> 00:10:25,940
이제 절대로 보면은 그 제대로

228
00:10:25,940 --> 00:10:27,570
이제 나오지 않는 경우가 있는데

229
00:10:27,570 --> 00:10:30,970
그건 이제 OS 레벨에서 dns 캐시 때문에

230
00:10:30,970 --> 00:10:34,260
제가 장표 에다가 명령으로 젤리펌 해놨습니다

231
00:10:34,260 --> 00:10:38,170
요거는 이제 oss 그냥 맥을 쓰고 있어서 명인데요

232
00:10:38,170 --> 00:10:43,730
강제로 외국에서 잡고 있는 GS 테이블오더 플러스 하고

233
00:10:43,730 --> 00:10:46,240
다시 잼 dns 리졸브 해가지고

234
00:10:46,240 --> 00:10:48,860
현재 상태에서 정말 진짜 사용하는 IP

235
00:10:48,860 --> 00:10:52,920
술값으로 가져올 수 있도록 했습니다

236
00:10:52,920 --> 00:10:55,680
그럼 실제로 클러스터 엔드포인트

237
00:10:55,680 --> 00:10:58,170
IP 주소 바뀌는 걸 보내 드렸습니다

238
00:10:58,170 --> 00:11:00,990
제일 첫 번째 구성이 어떤 가장 심플한 구성이죠

239
00:11:00,990 --> 00:11:03,420
클러스터 네 한 개 마이타마 있는 경우고

240
00:11:03,420 --> 00:11:06,010
클럽 파인드 포인트도 리더 핸드폰 줘

241
00:11:06,010 --> 00:11:09,280
2 라이터 인스턴트 가르쳐 줘

242
00:11:09,280 --> 00:11:11,280
아무리 이제 DNS 플러싱 하고

243
00:11:11,280 --> 00:11:15,710
다시 제품을 때려 봐도 리더 클러스터 엔드포인트가 M

244
00:11:15,710 --> 00:11:18,650
N D P A IP 주소가 내일 동일합니다

245
00:11:18,650 --> 00:11:21,840
라이터 나밖에 없지 때문에요

246
00:11:21,840 --> 00:11:22,890
여기서 리더로 하나

247
00:11:22,890 --> 00:11:25,970
추가해 보면 다 보면 이때부터 걸린다고 하셨죠

248
00:11:25,970 --> 00:11:26,770
말씀드렸죠

249
00:11:26,770 --> 00:11:28,320
클러스터 핸드폰 인천 라이터

250
00:11:28,320 --> 00:11:31,380
그리고 이거 핸드폰 위치 쪽으로 제가 그

251
00:11:31,380 --> 00:11:32,990
이제 플러싱 해 보면

252
00:11:32,990 --> 00:11:36,740
바로 때려 보면은 이제 플러스 핸드폰 비서가 리더인데

253
00:11:36,740 --> 00:11:42,860
포인트 미소가 달라진 것을 볼 수가 있습니다

254
00:11:42,860 --> 00:11:46,650
다음으로 그러면은 이제 잔고 DB 라우터에 대해서 설명드리겠습니다

255
00:11:46,650 --> 00:11:50,850
잔고 쪽 설정인데요 정해진 쓰고 설정 좀 하는데

256
00:11:50,850 --> 00:11:52,500
뭐 위에는 지금 테스트 니까

257
00:11:52,500 --> 00:11:54,890
테스트는 말고 열심히 10주째

258
00:11:54,890 --> 00:11:58,220
오퍼레이션 레벨을 쓰고 있는 설정을 보시면은 잔고

259
00:11:58,220 --> 00:12:03,150
설정 해 보시면 대문자로 데이터베이스 라는 설정

260
00:12:03,150 --> 00:12:05,710
카페 형태로 복수개

261
00:12:05,710 --> 00:12:08,990
데이터베이스연결 이렇게 추가 할 수가 있습니다

262
00:12:08,990 --> 00:12:11,330
어 근데 주의 사항 있습니다

263
00:12:11,330 --> 00:12:14,830
이게 보시면 지금 제가 디폴트가 리플리카 라고 하는데

264
00:12:14,830 --> 00:12:17,370
저 사실 얼마든지 자기야 이름 아무거나

265
00:12:17,370 --> 00:12:18,020
바꿀 수 있거든요

266
00:12:18,020 --> 00:12:21,580
특히 디폴트 같은 게 뭐 프라이머리라는 jdbc1

267
00:12:21,580 --> 00:12:25,930
뭐 아니면 뭐 많이 메인 이런지는 지워 이름을 바꿀 수 있는데

268
00:12:25,930 --> 00:12:29,910
이거 이름을 저희가 사시는 전에 바꾸려고 다른 일

269
00:12:29,910 --> 00:12:30,970
하다가 바꾸려 했는데

270
00:12:30,970 --> 00:12:33,650
어 이게 절대 바꾸면 안 되더라고

271
00:12:33,650 --> 00:12:38,980
가끔 저장고에 서드파티 라이벌 중에서 데탑에서 접근할 때

272
00:12:38,980 --> 00:12:42,240
그냥 디폴트란 이름이 그냥 하드코딩 되어서 되어 있는

273
00:12:42,240 --> 00:12:46,450
그런 것도 있더라고 들어 가지고

274
00:12:46,450 --> 00:12:48,410
그냥 원래부터 처음에 잔고

275
00:12:48,410 --> 00:12:52,420
설치하실 때 나오는 디폴트가 디폴트로 문자 쓰기 때문에 말고

276
00:12:52,420 --> 00:12:54,080
그냥 리포트 건드리지 않고

277
00:12:54,080 --> 00:12:57,430
디폴트인 게 마음에 평안을 볼 수 있을 거 같습니다

278
00:12:57,430 --> 00:13:00,480
다음으로 이제 맨 마지막 줄에 데이터베이스

279
00:13:00,480 --> 00:13:02,400
언더바로 라우터 수가 있는데요

280
00:13:02,400 --> 00:13:05,020
여기 이제 리스트형태로 내가 작성한 아우터를

281
00:13:05,020 --> 00:13:09,540
이제 그쵸 갈 수가 있습니다

282
00:13:09,540 --> 00:13:11,700
그럼 한번 재능티비 라우터 코드에 대해서

283
00:13:11,700 --> 00:13:13,710
제가 작성하는 아우터코드 해서 정도 보시면

284
00:13:13,710 --> 00:13:15,410
총 4개의 한도가 있습니다

285
00:13:15,410 --> 00:13:21,110
그래서 첫 번째 디포리 들어있고 디버그 라이트 그거 릴레이션이다

286
00:13:21,110 --> 00:13:22,810
마이그레이션 있는데요

287
00:13:22,810 --> 00:13:25,100
세 번째 네 번째 함수는 필요 없으니까

288
00:13:25,100 --> 00:13:26,950
디폴트값을 쓰시면 되고요

289
00:13:26,950 --> 00:13:32,710
그리고 두 번째는 사실 뭐 간단하게 디포 라이터 무조건

290
00:13:32,710 --> 00:13:34,850
쓰기 스킨은 무조건 와이파이가 되니까

291
00:13:34,850 --> 00:13:37,160
클러스터 엔드포인트를 가리키고 있는 디폴트

292
00:13:37,160 --> 00:13:39,300
라는 DB 라고 보내면 됩니다

293
00:13:39,300 --> 00:13:42,170
그 앞으로 계속 이제 수정할게 뒷 보이던데요

294
00:13:42,170 --> 00:13:44,350
디포리 대진건재 강아지 첫 번째로

295
00:13:44,350 --> 00:13:47,740
3단계 리플리카 딸이 더 리더 엔드포인트

296
00:13:47,740 --> 00:13:49,730
로즈 가도록 이렇게 설정했습니다

297
00:13:49,730 --> 00:13:53,450
오른쪽 왼쪽 아우터코드 보시면은

298
00:13:53,450 --> 00:13:56,500
이제 이해할 수 있을까

299
00:13:56,500 --> 00:14:00,590
근데 이제 디포리 더 하다 보면 읽기 처리가 지금

300
00:14:00,590 --> 00:14:03,990
제가 이거 하는 이유가 제대로 활용하기 위한 건데

301
00:14:03,990 --> 00:14:06,310
이거 처리하는데 여러 가지 문제들이 있어서

302
00:14:06,310 --> 00:14:11,310
저희 첫 번째 첫 번째 버전이라 부르고 버전들을 올라가는데요

303
00:14:11,310 --> 00:14:15,030
첫 번째 버전 버전 원에 문제점은 디포리 들어갈 때

304
00:14:15,030 --> 00:14:16,900
그냥 그게 굉장히 기계적으로

305
00:14:16,900 --> 00:14:19,210
그냥 오른쪽에 있는 저 라이터가 믿어

306
00:14:19,210 --> 00:14:21,410
택배로 보내 사진을

307
00:14:21,410 --> 00:14:25,730
라이터인 선수도 읽기 처리가 가능한 이기 때문에

308
00:14:25,730 --> 00:14:26,580
조금 값이죠

309
00:14:26,580 --> 00:14:29,150
들어왔을 때 아까 괴롭기 거리가 들어왔을 때

310
00:14:29,150 --> 00:14:32,070
쓰레기 버리 갔을때 절반정도는 리더의 가고

311
00:14:32,070 --> 00:14:34,010
절반 정도로 많이 들어 왔으면 좋겠는데

312
00:14:34,010 --> 00:14:35,160
그게 아니라 지금 현재 버전

313
00:14:35,160 --> 00:14:40,660
무조건 100% 다 리더의 고치는 상입니다

314
00:14:40,660 --> 00:14:42,980
그래서 왼쪽에 버전을 오른쪽에 버전 틀어

315
00:14:42,980 --> 00:14:45,120
이제 다음과 같이 쏘겠습니다

316
00:14:45,120 --> 00:14:48,010
보시면 디포리 더 해 보시면 어떻게 갖다 놨어요

317
00:14:48,010 --> 00:14:51,700
그냥 단순하게 이제 뭐 간단한 이겨 줘

318
00:14:51,700 --> 00:14:54,550
아마 창고에 틀렸다고는 이런 방법을 주니까

319
00:14:54,550 --> 00:14:57,240
좋은 이젠프리텍 쓰러진 나온대요

320
00:14:57,240 --> 00:15:01,900
그냥 리스트 만든 다음에 그 리스트에 디폴트 넣어 놓고

321
00:15:01,900 --> 00:15:02,940
저는 다음에 랜덤초이스

322
00:15:02,940 --> 00:15:05,910
그렇게 하면은 알아서 이제 50% 씨

323
00:15:05,910 --> 00:15:09,260
이제 반바지 가게 됩니다

324
00:15:09,260 --> 00:15:12,310
하지만 역시 이것도 문제가 있습니다

325
00:15:12,310 --> 00:15:14,850
저희가 이제 처음에는 서비스업체 단순 했어요

326
00:15:14,850 --> 00:15:17,750
당사에서 뭐 이런 것들 잘 안 쓰고 있었는데

327
00:15:17,750 --> 00:15:20,860
이제 서비스 결제 같은 거 할 때

328
00:15:20,860 --> 00:15:24,190
결제 되게 민감하다면 프렌즈 시작해 가지고 디비라 걸고

329
00:15:24,190 --> 00:15:26,050
세제는 작업을 하게 되는데

330
00:15:26,050 --> 00:15:28,370
뒤라 그런지 명시적으로 걸기 시작하니까

331
00:15:28,370 --> 00:15:30,500
입어 전투의 문제가 생겼습니다

332
00:15:30,500 --> 00:15:33,810
그래서 아침부터 데이타베이스를 걸 대전

333
00:15:33,810 --> 00:15:34,720
mysql 수도 있고요

334
00:15:34,720 --> 00:15:35,450
그래서 많이 쓸게

335
00:15:35,450 --> 00:15:38,300
셀렉트포스 업데이트라는 이제 그 기능을 합니다

336
00:15:38,300 --> 00:15:40,360
즉 음악을 탭을 다니는 게 아니라

337
00:15:40,360 --> 00:15:43,810
테이블 협정으로 몇 개 선택해서 무단으로 가게 되는데

338
00:15:43,810 --> 00:15:47,370
이렇게 되면 이제 최강 짝패 잡고

339
00:15:47,370 --> 00:15:50,430
바글거리는 범위를 굉장히 찾기 잡은 적 없어요

340
00:15:50,430 --> 00:15:51,320
나도 좋지 않아요

341
00:15:51,320 --> 00:15:53,230
그래서 굉장히 게 되게

342
00:15:53,230 --> 00:15:57,240
날카롭게 얇게 잡기 위해서 ZF-10 쓰고 있습니다

343
00:15:57,240 --> 00:15:59,610
다시 원래 이렇게 안 올 거라서 때

344
00:15:59,610 --> 00:16:02,110
생기는 이거 전체 문제를 설명드리자면

345
00:16:02,110 --> 00:16:03,340
누가 이길 수 있는데

346
00:16:03,340 --> 00:16:07,180
첫 번째 케이스 같은 경우는 먼저 이제 첫 번째로

347
00:16:07,180 --> 00:16:10,810
이제 그 막을 우선 믿어야 될 걸 수 있나

348
00:16:10,810 --> 00:16:13,390
리즈커리 때문에 뭐 라이트

349
00:16:13,390 --> 00:16:16,680
갔을걸 리더의 가서 말을 걸었다

350
00:16:16,680 --> 00:16:18,120
칩시다 나를 거고

351
00:16:18,120 --> 00:16:19,240
이제 문자 쓰기 작업을 합니다

352
00:16:19,240 --> 00:16:22,000
그렇다면 이 새끼 잡아 무조건 라이터로 하겠죠

353
00:16:22,000 --> 00:16:24,450
나이트 가서 이제 어떤 변경 사항 있습니다

354
00:16:24,450 --> 00:16:27,150
그런 이젠 오로라 에서는 변경

355
00:16:27,150 --> 00:16:30,100
사람들은 리더한테 이제 싱크를 맞추러 갈 텐데

356
00:16:30,100 --> 00:16:32,300
지금 리더는 우리가 나를 보러 가기 때문에

357
00:16:32,300 --> 00:16:33,420
쓸 수 없는 상황이죠

358
00:16:33,420 --> 00:16:35,960
그것 때문에 요렇게 된 경우에

359
00:16:35,960 --> 00:16:38,080
라이트 변경사항이 리더 쪽으로

360
00:16:38,080 --> 00:16:41,090
싱크 맞출 때 그 문제가 발생하게 되고요

361
00:16:41,090 --> 00:16:43,330
반대로 아들 리더가 아니라

362
00:16:43,330 --> 00:16:45,320
라이터 이제 걸린 상태입니다

363
00:16:45,320 --> 00:16:49,270
라이터 연락을 걸고 셀렉터 없게 들어가기 걸려 있고

364
00:16:49,270 --> 00:16:53,240
그 어떤 변경 사항을 지금 라이터 쪽에 있습니다

365
00:16:53,240 --> 00:16:55,790
근데 사실 오늘 마지막 끝날 때

366
00:16:55,790 --> 00:16:59,190
커밋이란 명령을 내리지 않으면은 실제로 되게 반영이 안 돼서

367
00:16:59,190 --> 00:17:02,800
그런 상태에서 이제 아직까지는 이제 그 중이기 때문에

368
00:17:02,800 --> 00:17:05,370
라이터 안에서만 이제 그 변경 사항 있는 거고

369
00:17:05,370 --> 00:17:08,410
리더의 나 지금 변경 사항이 반영되지 않은 상태입니다

370
00:17:08,410 --> 00:17:09,920
근데 앞서 우리가 제이쿼리

371
00:17:09,920 --> 00:17:13,770
리드커리어 왔다 갔다 하게 했는데

372
00:17:13,770 --> 00:17:16,610
그 안에 거리를 받게 여러개실행 하다 보니까

373
00:17:16,610 --> 00:17:19,500
이제 먹고 변경하고 미드 거리를 만약에 할 때

374
00:17:19,500 --> 00:17:23,410
이제 만약 그들이 일거리가 나쁘게도 및 없죠

375
00:17:23,410 --> 00:17:26,220
그렇게 되면은 라이터의 변경 사항을 아직 반영안됨

376
00:17:26,220 --> 00:17:28,810
리더기 때문에 예전 데이터 변경 되기 전에

377
00:17:28,810 --> 00:17:34,060
데이터를 읽는 그런 데이터의 일관성이 깨지는 문제가 발생되었습니다

378
00:17:34,060 --> 00:17:36,640
결제 같은 거 굉장히 심각한 문제죠

379
00:17:36,640 --> 00:17:40,550
계좌에 먹었던 거 결제를 했는데 변경된 내용은 라이터 있는데

380
00:17:40,550 --> 00:17:43,950
마지막 그 최종 밸런스 이제 잔고로 확인했는데

381
00:17:43,950 --> 00:17:47,020
리더 이거는 그 결정이 전에 잔고가 나온다면

382
00:17:47,020 --> 00:17:48,700
근데 그 문제죠

383
00:17:48,700 --> 00:17:51,540
그래서 이걸 어떻게 해결할까 고민했습니다

384
00:17:51,540 --> 00:17:55,980
사실 이 부분을 많은 분들이 멀티 데이터베이스 실제로

385
00:17:55,980 --> 00:17:57,850
실무에서 이렇게 쓰시는분들이

386
00:17:57,850 --> 00:17:59,270
그렇게 많지는 않은 거 같더라고요

387
00:17:59,270 --> 00:18:02,710
그래서 몇 군데 있긴 한데

388
00:18:02,710 --> 00:18:05,120
얘기해 보니까 그런 방법들이 있더라고요

389
00:18:05,120 --> 00:18:08,840
그래서 왼쪽에 이제 오전 두고 오른쪽 번호인데

390
00:18:08,840 --> 00:18:11,830
DD4all 보시면은 딜리버리

391
00:18:11,830 --> 00:18:13,870
들의 어떤 리퀘스트가 들어왔대

392
00:18:13,870 --> 00:18:15,340
이런 걸로 체크 할 수가 있습니다

393
00:18:15,340 --> 00:18:17,570
현재 이 쓰레드에서 들어왔을 때

394
00:18:17,570 --> 00:18:19,340
쓰레드-쓰레드 체인지업

395
00:18:19,340 --> 00:18:21,730
사는 게 있는지 없는지 확인 할 수가 있습니다

396
00:18:21,730 --> 00:18:26,560
그래서 리드 처리를 하기 전에 그 이렇게 처리를 보내기 전에

397
00:18:26,560 --> 00:18:30,140
만약에 트랜잭션이 열려 있는 게 하더라도 존재한다면

398
00:18:30,140 --> 00:18:34,200
혹시 모르니 그전에 변경 사항이 있을 수 있으니까

399
00:18:34,200 --> 00:18:36,410
이때는 뒤돌아보지 말고

400
00:18:36,410 --> 00:18:39,890
무식하게 그냥 디폴트 쪽으로 그냥 가라고

401
00:18:39,890 --> 00:18:45,600
이렇게 라우터로 고쳤습니다

402
00:18:45,600 --> 00:18:47,690
사실 뭐 이렇게 스템 좀 해피스

403
00:18:47,690 --> 00:18:51,150
뭐 큰 문제 없이 잘 된다고 생각했습니다

404
00:18:51,150 --> 00:18:54,270
근데 저희가 이제 서비스가 처음에는 별로 없고

405
00:18:54,270 --> 00:18:55,110
사람도 없었는데

406
00:18:55,110 --> 00:18:59,320
점점 이제 고객사 두르고 사용해 보니까 데이터베이스가 성능

407
00:18:59,320 --> 00:19:00,500
이제 빨리 자겠습니다

408
00:19:00,500 --> 00:19:03,950
어 그리고 제가 케이 멀티 탭 S3

409
00:19:03,950 --> 00:19:05,670
필카를 사용하게 된 이유 중 하나가

410
00:19:05,670 --> 00:19:07,560
이제 아까 말씀드렸던 좀

411
00:19:07,560 --> 00:19:09,940
유연하게 서비스 중단 없이 좀

412
00:19:09,940 --> 00:19:12,430
이렇게 스케줄 확장을 하기 위해서 이제 아프리카

413
00:19:12,430 --> 00:19:16,990
그렇게 붙여서 이렇게 알아서 이제 올리고 싶다는 목표로 하게되었는데요

414
00:19:16,990 --> 00:19:18,680
그래서 언제 한번 해봤습니다 리더로

415
00:19:18,680 --> 00:19:20,250
이제 하나 더 추가 봤어요

416
00:19:20,250 --> 00:19:22,490
저 클러스터의 이제 라이더 나가 있고

417
00:19:22,490 --> 00:19:24,390
리더가 지 두 개가 있죠

418
00:19:24,390 --> 00:19:29,780
그러면 이제 진짜 붙이니까 올라가더라구요

419
00:19:29,780 --> 00:19:30,750
굉장히 해피 했어요

420
00:19:30,750 --> 00:19:37,020
근데 잘 보니까 모니터링에서 이제 트래픽 밸런싱을 잘 보니까

421
00:19:37,020 --> 00:19:38,490
이것 좀 약간 이상하더라고요

422
00:19:38,490 --> 00:19:40,690
어떤 일이 벌어지는 지금

423
00:19:40,690 --> 00:19:41,570
우리가 젠장 고

424
00:19:41,570 --> 00:19:46,040
어플리케이션 레이어에서 라이터 리더에서 지금 리플리카

425
00:19:46,040 --> 00:19:48,520
와 그 디폴트로 잼

426
00:19:48,520 --> 00:19:50,950
기계적으로 50% CJ 택배로 보내고 있죠

427
00:19:50,950 --> 00:19:53,220
근데 사실은 아프리카에는 두 개

428
00:19:53,220 --> 00:19:57,250
리더가 부탁이 때문에 또 인프라 레벨에서 또 반반씩 넘으니까

429
00:19:57,250 --> 00:20:02,210
최종 도로공원 라이터 에그 전체 읽기 오창에서 50%

430
00:20:02,210 --> 00:20:05,150
는 라이터가 처리하게 되고 리더는 20%

431
00:20:05,150 --> 00:20:08,330
25% 처리하게 된다는 게 문제가 생기더라고요

432
00:20:08,330 --> 00:20:11,920
근데 이게 보니까 나중에 좀 더 생각해 주겠다고

433
00:20:11,920 --> 00:20:13,990
이번에 저희가 나중에 더 서비스가 커져 가지고

434
00:20:13,990 --> 00:20:15,060
슬퍼서 올리고 싶다

435
00:20:15,060 --> 00:20:18,930
한데 믿어 로또 하나 추가 하면은 그렇다 하더라도

436
00:20:18,930 --> 00:20:20,750
일단 계속 50% 처리하고 있는 거죠

437
00:20:20,750 --> 00:20:23,060
믿어 끼리만 그 나머지 50% 다

438
00:20:23,060 --> 00:20:24,670
자기 핸드폰 하는 거죠

439
00:20:24,670 --> 00:20:27,420
그래서 어 이거 수정을 해야 될 거 같은데

440
00:20:27,420 --> 00:20:29,550
어떻게 하면 이제 로드밸런싱을 좀 예쁘게

441
00:20:29,550 --> 00:20:31,960
라이터 까지 포함해서 엔딩

442
00:20:31,960 --> 00:20:37,770
분 할 수 있을 거라고 고민하게 되었습니다

443
00:20:37,770 --> 00:20:43,480
근데 생각보다 어떻게 하는지 좀 부끄럽지 됐네

444
00:20:43,480 --> 00:20:45,870
원래 이렇게 단순한 게 제일 좋은 거

445
00:20:45,870 --> 00:20:48,300
같더라고요 등의 여러 가지 방법으로 고민했었어요

446
00:20:48,300 --> 00:20:50,550
이거 어떡하지 어떡하지 하고 했는데

447
00:20:50,550 --> 00:20:54,340
그냥 저 전북 리스트 에다가

448
00:20:54,340 --> 00:20:57,750
리더 개수만큼 한 번 더 더 추가했습니다

449
00:20:57,750 --> 00:20:59,560
그러면 이제 그 잔고

450
00:20:59,560 --> 00:21:02,270
어플리케이션 네이버에서 이제 33%

451
00:21:02,270 --> 00:21:05,670
66% 50분 사이 되고 리더 66%

452
00:21:05,670 --> 00:21:08,770
리더 받으면 리더가 다시 또 리더 0YD01

453
00:21:08,770 --> 00:21:13,720
한태진 반반씩 나눠서 근데 이것도 사진 문제가 있죠

454
00:21:13,720 --> 00:21:15,220
리더가 그리고 추가로 하면은 잔고

455
00:21:15,220 --> 00:21:18,680
소스코드를 이제 수정해 된다는 문제가 있지

456
00:21:18,680 --> 00:21:21,830
어쨌든 간에 어떻게 단순하지만

457
00:21:21,830 --> 00:21:23,950
이런 방법으로 해결할 수 있다

458
00:21:23,950 --> 00:21:26,980
그래서 뭐 저는 저 자신을 못 개발철학

459
00:21:26,980 --> 00:21:29,940
심플이즈베스트 간단하게 해 가지고 간단하게 처리하자

460
00:21:29,940 --> 00:21:33,510
그렇게 조금 지저분하고 좀 있었어요

461
00:21:33,510 --> 00:21:35,540
그래서 집중하게 쓰고 있었는데

462
00:21:35,540 --> 00:21:38,440
만족 없었는데 이게 또

463
00:21:38,440 --> 00:21:40,190
나중에 어떤 제가 또 딴 데 가서

464
00:21:40,190 --> 00:21:42,440
이걸 비슷한 내용을 발표를 했었거든요

465
00:21:42,440 --> 00:21:44,720
근데 청중이 피드백 주시더라고요

466
00:21:44,720 --> 00:21:49,130
어 이거 직접 할 필요 없다 이미 뭐가 있다

467
00:21:49,130 --> 00:21:53,560
또 제가 이거를 아 역시 모르면 이제 손 발이 고생한다고

468
00:21:53,560 --> 00:21:55,770
세상에는 이제 세 개는 제

469
00:21:55,770 --> 00:21:58,710
저 같은 고민을 한 사람이 한 명만 우리는 아니더라고요

470
00:21:58,710 --> 00:22:01,240
문제를 예전부터 공연 사진 많이 있었고

471
00:22:01,240 --> 00:22:05,290
제가 이거를 그냥 또 리인벤트 일을 하고 싶더라고요

472
00:22:05,290 --> 00:22:07,970
설명드리자면 이제 작년 11월 달에

473
00:22:07,970 --> 00:22:11,030
아마존에서 그동안 이제 끝났어 핸드폰

474
00:22:11,030 --> 00:22:13,430
그리고 리더 핸드폰 테마 있었는데

475
00:22:13,430 --> 00:22:17,130
커스텀 엔드포인트란 기능을 추가로 했어요

476
00:22:17,130 --> 00:22:19,810
기존에 클러스터 엔드포인트를 그냥 기계적으로

477
00:22:19,810 --> 00:22:21,100
라이터의 가고 있다

478
00:22:21,100 --> 00:22:22,990
이제 포인트부족 423

479
00:22:22,990 --> 00:22:24,350
아재 로드밸런싱 해 주고 있는데

480
00:22:24,350 --> 00:22:26,860
커스텀 핸드폰 인턴은 내가 추가하고

481
00:22:26,860 --> 00:22:29,710
커스텀 핸드폰인데 눌려 있어서

482
00:22:29,710 --> 00:22:31,670
자기 맘대로 이제 할 수가 있는 거야

483
00:22:31,670 --> 00:22:34,660
그래서 이동한 색으로 표시되어 있는 커스터

484
00:22:34,660 --> 00:22:37,140
엔드포인트가 모든 라이터와

485
00:22:37,140 --> 00:22:38,820
모든 리더들을 바라보고 있죠

486
00:22:38,820 --> 00:22:42,410
그리고 녹색 같은 게 그냥 왼쪽에 라이더 맨 오른쪽에

487
00:22:42,410 --> 00:22:46,060
너만 바라보는 데 요런 식으로 젠다야 구성으로

488
00:22:46,060 --> 00:22:49,850
내 마음대로 이렇게 할 수 있는 구성이 가능해졌습니다

489
00:22:49,850 --> 00:22:55,950
그래 가지고 이렇게 하면 굉장히 소스코드가 방송 해주더라고요

490
00:22:55,950 --> 00:22:58,300
보면은 어떠세요

491
00:22:58,300 --> 00:23:00,310
그래서 아까 좀 지저분해도 생겼다

492
00:23:00,310 --> 00:23:02,720
그리스트 랜덤이라고 다 없어지고

493
00:23:02,720 --> 00:23:07,140
오른쪽 깔끔하게 커스텀 이라는 이름으로 제 물론 제가 잔고

494
00:23:07,140 --> 00:23:09,810
설정을 지금 제가 했던 건데

495
00:23:09,810 --> 00:23:10,470
잘못 설정해 줘

496
00:23:10,470 --> 00:23:15,020
이제 커스텀 일하는 앨리스로 핸드폰 트래블러 놨고요

497
00:23:15,020 --> 00:23:18,380
이런 식으로 하면은 어 굉장히 심플하게 갔지만

498
00:23:18,380 --> 00:23:25,990
아름답게 딱 끝나죠 그 삼아 적용하는 결과입니다

499
00:23:25,990 --> 00:23:29,410
저희가 이제 제가 이제 우선 라이트

500
00:23:29,410 --> 00:23:32,180
하나랑 리더 하나 있을 때 해 봤던 건데

501
00:23:32,180 --> 00:23:35,100
최초로 처음 적용했을 때 근데

502
00:23:35,100 --> 00:23:38,330
지금 이제 라이트 한화리조트 개 있으니깐요

503
00:23:38,330 --> 00:23:40,660
조만간에 세계로 들어갈 수도 있는데

504
00:23:40,660 --> 00:23:42,460
이제 나와 라이트 하나 있을 때

505
00:23:42,460 --> 00:23:45,730
파란색 이제 라이터가 주황색이 리더입니다

506
00:23:45,730 --> 00:23:51,160
왼쪽은 셀렉트 커링 및 관리에 대한 변환 아니고요

507
00:23:51,160 --> 00:23:56,250
오른쪽은 이제 전체 모든 읽고쓰기 커리 에 대한 제평 하나인데

508
00:23:56,250 --> 00:23:59,340
왼쪽에 보면은 이제 저희가 적용

509
00:23:59,340 --> 00:24:02,310
하고나서부터 파란색 라이트론

510
00:24:02,310 --> 00:24:07,910
올렸던 일렉트코리아 처리가 그동안 있었던

511
00:24:07,910 --> 00:24:11,280
리더 쪽으로 올려 가지고 파란 책상과 중앙선 이거

512
00:24:11,280 --> 00:24:14,070
이렇게 일대일로 웃는 모습을 볼 수 있습니다

513
00:24:14,070 --> 00:24:15,340
그리고 앞서 말씀드렸듯이

514
00:24:15,340 --> 00:24:19,610
그런 어떤 트랜잭션 같은 경우는 안에서 발생되는 리드커리어

515
00:24:19,610 --> 00:24:23,390
이제 혹시 모르니까 무조건 다 라인 쪽에 처리하게 했기 때문에

516
00:24:23,390 --> 00:24:25,850
완벽하게 딱 그 2라인 이쁘진 않아요

517
00:24:25,850 --> 00:24:27,980
그래서 조금 더 이제 라이트가 처리하게 근데

518
00:24:27,980 --> 00:24:30,020
거의 일대일로 처리하게 줘

519
00:24:30,020 --> 00:24:32,530
그리고 오른쪽에 보시면 이제 crud 같은데

520
00:24:32,530 --> 00:24:34,930
제가 왜 오른쪽 거

521
00:24:34,930 --> 00:24:36,980
이게 서비스가 좀 다르긴 한데

522
00:24:36,980 --> 00:24:39,160
웬만한 서비스는 전부 다 제 3호

523
00:24:39,160 --> 00:24:41,500
총보다 이렇게 요청이 더 많잖아요

524
00:24:41,500 --> 00:24:42,980
저희 서비스경영 퇴근요

525
00:24:42,980 --> 00:24:45,860
그래서 전체적으로 커리 처리를 봤을 때도

526
00:24:45,860 --> 00:24:48,590
이제 파이터 가지 빠르게

527
00:24:48,590 --> 00:24:51,710
그동안 정말 다 처리하고 썼던 것들 중에서

528
00:24:51,710 --> 00:24:54,610
상당구 분들이 다 이제 분산처리 되면 보고

529
00:24:54,610 --> 00:24:59,710
괜찮다 해서 사실 저 이렇게 하면서 원래 라이터 성능을 사용

530
00:24:59,710 --> 00:25:01,410
올려야 되는 이유가 있었는데

531
00:25:01,410 --> 00:25:04,170
안 믿어 추가하는 걸로 그냥 원래 우리 추가 있었어요

532
00:25:04,170 --> 00:25:06,680
그래서 이렇게 해서 올리지도 않고

533
00:25:06,680 --> 00:25:10,060
기존의 더 들어와 트래픽을 더 받을 수 있는 상황이기 때문에

534
00:25:10,060 --> 00:25:13,770
굉장히 만족스럽습니다 보면 돼 아름답지 않나요

535
00:25:13,770 --> 00:25:17,070
로드밸런싱 이렇게 아름답게 되면은 기분 좋더라고요

536
00:25:17,070 --> 00:25:24,660
전망좋은집 어 조금 진행이 빨랐나 봐요

537
00:25:24,660 --> 00:25:29,990
결론을 말씀드릴게요 결혼 좀 할까요

538
00:25:29,990 --> 00:25:33,170
우선은 자기가 이게 이렇게 해 봤는데

539
00:25:33,170 --> 00:25:36,570
이거를 하게 된 동기는 데이터베이스

540
00:25:36,570 --> 00:25:38,450
좀 더 유연하게 스케일러블 하게

541
00:25:38,450 --> 00:25:41,000
그냥 수평확장 으로 한번 해보자

542
00:25:41,000 --> 00:25:42,920
이거 도전해보자는 없고요

543
00:25:42,920 --> 00:25:44,180
하면서 사실은 저희가 이거를

544
00:25:44,180 --> 00:25:46,570
이제 올해 초부터 이럴 때 부터 도입 해가지고

545
00:25:46,570 --> 00:25:47,870
그동안 이제 한 6개월 동안

546
00:25:47,870 --> 00:25:49,740
근데 프로필 많이 했었어요

547
00:25:49,740 --> 00:25:53,820
근데 그 과정을 지금 제가 압축해서 보내드리면 데

548
00:25:53,820 --> 00:25:55,880
사실은 버전 원투쓰리포 가 5가

549
00:25:55,880 --> 00:25:57,870
이렇게 물 흐르듯이 갔던 거 아닌가

550
00:25:57,870 --> 00:26:00,000
이렇게 하면서 무슨 일 있어 가지고

551
00:26:00,000 --> 00:26:02,200
다시 도망 왔다 갔다 그랬어

552
00:26:02,200 --> 00:26:05,970
우선 첫 번째 장점단점 중에

553
00:26:05,970 --> 00:26:08,090
단점이 먼저 봤으면 이거 했을 때

554
00:26:08,090 --> 00:26:11,900
단점 같은 경우는 서드파티

555
00:26:11,900 --> 00:26:17,890
라이벌들이 실제로 멀티데이터 대응이 안 되는 애들도 있어요

556
00:26:17,890 --> 00:26:19,640
근데 되게 크리티컬 하나에도 있죠

557
00:26:19,640 --> 00:26:23,600
저희 같은 건 이제 오스트 프로바이더와 잔고

558
00:26:23,600 --> 00:26:28,090
캐시란 라이브러리가 이 문제가 발견될 어 이게

559
00:26:28,090 --> 00:26:30,530
우리가 라이터 까지 포함해서 이렇게 요청했지만

560
00:26:30,530 --> 00:26:31,670
맨덤의던전 하잖아요

561
00:26:31,670 --> 00:26:33,970
그러니까 그게 문제가 발견되고

562
00:26:33,970 --> 00:26:35,510
그게 항상 밝은 것도 아니고

563
00:26:35,510 --> 00:26:36,880
되게 가끔씩 이 발견된 거

564
00:26:36,880 --> 00:26:40,880
한 달에 한두 번씩 갑자기 없는 데이터일 것도 없는데

565
00:26:40,880 --> 00:26:43,400
읽었다고 연결 잔고에서 터지더라구요

566
00:26:43,400 --> 00:26:47,940
그래서 어 이게 뭐지 해서 알아봤더니 로스트 틀어 라 잔고

567
00:26:47,940 --> 00:26:50,110
캐시 쪽에 포스코 보니까

568
00:26:50,110 --> 00:26:52,920
토스코 도박 중에 어느 분인지

569
00:26:52,920 --> 00:26:55,460
딱 찍어서 보내는 경우가 있더라고요

570
00:26:55,460 --> 00:26:58,390
그래서 아 이럴 때 좀 약간 문제가 있더라고요

571
00:26:58,390 --> 00:27:00,570
그래서 그냥 저희가 지금

572
00:27:00,570 --> 00:27:03,740
내가 어떻게 보는 케바케라 어저께 오른쪽에 했는데

573
00:27:03,740 --> 00:27:07,390
그래서 저희가 어떤 그 리드코리아 때

574
00:27:07,390 --> 00:27:10,910
이득 허리가 어떤 잔고 앱에서 왔는지를 확인해서

575
00:27:10,910 --> 00:27:13,650
만약에 오스트 프로바이더와 잔고

576
00:27:13,650 --> 00:27:16,820
캐시 에서 온 경우는 그냥 뒤돌아보지

577
00:27:16,820 --> 00:27:20,020
무조건 디폴트로 보내자 했습니다

578
00:27:20,020 --> 00:27:21,810
그러니까 문제가 해결되지

579
00:27:21,810 --> 00:27:24,190
지금까지 자기가 되게 여러가지 라이벌 쓰고 있는데

580
00:27:24,190 --> 00:27:26,220
가장 눈에 띄었던 거 두 개 고요

581
00:27:26,220 --> 00:27:30,520
고스트 프로바이더는 인증 확인해 갖고 계시죠

582
00:27:30,520 --> 00:27:32,340
왜 필요하냐고 공부 하신 분인데

583
00:27:32,340 --> 00:27:34,390
이제 장보섭 얻어지며

584
00:27:34,390 --> 00:27:36,410
저 스퀘어 세 가지 여러 개 있을 거 아니에요

585
00:27:36,410 --> 00:27:37,840
제가 API 쓰로틀링 합니다

586
00:27:37,840 --> 00:27:40,770
그래서 트로트 현대 장고서버 들간에

587
00:27:40,770 --> 00:27:44,300
그 쓰로틀링 카운트 정보를 이제 공부를 해야 되는데

588
00:27:44,300 --> 00:27:46,820
다른 DB 같은 거

589
00:27:46,820 --> 00:27:49,560
작은 거 만들어서 그렇겠지만

590
00:27:49,560 --> 00:27:51,960
장고 캐시에 붙이면 따로

591
00:27:51,960 --> 00:27:53,550
별도 인프라 구축 없이도 어제

592
00:27:53,550 --> 00:27:56,980
새롭게 열어 서버에서 같이 공부할 수 있게 해 주는 기능

593
00:27:56,980 --> 00:27:57,750
이건요

594
00:27:57,750 --> 00:28:01,980
저게 저것도 멀티 데이타베이스에 동기화가 안 돼

595
00:28:01,980 --> 00:28:03,480
최적화가 안 되어 있더라고요

596
00:28:03,480 --> 00:28:06,040
그래서 지금까지 한 3

597
00:28:06,040 --> 00:28:07,540
4개월 운영안내서 발견된

598
00:28:07,540 --> 00:28:12,580
그리고 근데 치명적인 같은 애인 잘 보겠습니다

599
00:28:12,580 --> 00:28:14,180
그리고 말씀 좋지

600
00:28:14,180 --> 00:28:18,040
이게 나한테 문제가 생기면은 이게 가끔 터짐

601
00:28:18,040 --> 00:28:21,220
도대체 왜 이 문제 새는지 제한조건을 게 힘들어요

602
00:28:21,220 --> 00:28:24,950
아까 뭐 한 달에 한두 번 더 지는 건데

603
00:28:24,950 --> 00:28:28,190
그냥 계속 7만 원 결제 다 떨어지면 어떡하지 한데

604
00:28:28,190 --> 00:28:29,910
결제 이런 적이 터질 않았지만

605
00:28:29,910 --> 00:28:31,950
굉장히 걱정이 되는 거죠

606
00:28:31,950 --> 00:28:37,530
그래서 차라리 우리가 지금 원래 제가 처음에 디포리 더 해서

607
00:28:37,530 --> 00:28:39,350
이제 그 리더 품 아니라

608
00:28:39,350 --> 00:28:42,870
라이터 쪽으로도 허리가 보내자는 전라도 근데

609
00:28:42,870 --> 00:28:45,910
좀 이게 너무 좀 안 갔다

610
00:28:45,910 --> 00:28:49,240
확실하게 문제가 있으면 100% 똑바르게

611
00:28:49,240 --> 00:28:53,580
문제가 나올 수 있게 확인해서 그냥 리드코리아 그냥 눈 감고

612
00:28:53,580 --> 00:28:57,890
그냥 다 아프리카 아프리카 쪽으로 보내도록 저희가 수정했습니다

613
00:28:57,890 --> 00:29:00,530
가지고 어 근데 이 상태에서 나중에 뭐

614
00:29:00,530 --> 00:29:02,110
문제가 생기면 또 찾았는데

615
00:29:02,110 --> 00:29:04,630
아직까지 문제가 더 크게 없는 거 같아서

616
00:29:04,630 --> 00:29:07,020
다시 또 이제 커맨드 포인트 바꿔도 되지 않을까

617
00:29:07,020 --> 00:29:08,650
근데 저렇게 좀 바꿔 놓고

618
00:29:08,650 --> 00:29:11,280
지금 잘 듣는 게 뒤 그 계시거든요

619
00:29:11,280 --> 00:29:12,200
그래도 계속 못 자고

620
00:29:12,200 --> 00:29:14,840
이따가 저기 하니까 바로 나오더라

621
00:29:14,840 --> 00:29:19,670
계속 무조건 미드로 가게 하니까

622
00:29:19,670 --> 00:29:21,220
그러면 단점들 이름은 이제 아

623
00:29:21,220 --> 00:29:22,370
이거 도대체 이거 왜 듣고 있지

624
00:29:22,370 --> 00:29:24,660
항상 문제 많은 거 아니야 이렇게 하는데

625
00:29:24,660 --> 00:29:28,320
모임 이마트 만들었지만 이게 장점이 생각이겠죠

626
00:29:28,320 --> 00:29:29,940
데이터베이스 관리 하면서

627
00:29:29,940 --> 00:29:33,430
이제 가장 큰 하나가 처음에 서비스

628
00:29:33,430 --> 00:29:36,140
시작할 때부터 디비를 엄청 말고 사용 안 하잖아요

629
00:29:36,140 --> 00:29:38,820
적당한 수준의 차량으로 지칭하는데

630
00:29:38,820 --> 00:29:40,290
서비스가 막대기형 했어요

631
00:29:40,290 --> 00:29:43,350
그래서 사무실 들어가고 있어 많이 늘었어요

632
00:29:43,350 --> 00:29:45,300
서버 DB 서버 렉 걸려 되는데

633
00:29:45,300 --> 00:29:49,760
DB 서버 이젠 그런 스켈링 하는 문제가 근데 큰 이슈

634
00:29:49,760 --> 00:29:53,150
DB 를 이제 우리가 뭔가 점검한다

635
00:29:53,150 --> 00:29:54,480
사용 올립니다 cpu 온다니

636
00:29:54,480 --> 00:29:57,010
메모 1월 서비스를 내야 되고

637
00:29:57,010 --> 00:29:58,470
비가 내려 간다는 얘기는

638
00:29:58,470 --> 00:30:00,010
이제 전체서비스 내려가는 거죠

639
00:30:00,010 --> 00:30:02,810
근데 요즘에 요즘에 좀 그랬어요

640
00:30:02,810 --> 00:30:05,610
서비스 점검 한다고 공지

641
00:30:05,610 --> 00:30:08,190
뜨고 제모하는 온라인서비스 없잖아요

642
00:30:08,190 --> 00:30:10,330
요즘에는 대부분 다 디폴트가 제

643
00:30:10,330 --> 00:30:13,530
무중단 중단 점검이 자요

644
00:30:13,530 --> 00:30:18,910
그리고 저는 이제 그 셀렉트 같은 경우는 이제 요거를

645
00:30:18,910 --> 00:30:22,310
이제 무슨 잠을 한번 그냥 올려 보고 싶다 기르는 방법

646
00:30:22,310 --> 00:30:23,530
처럼 스퀘어판다

647
00:30:23,530 --> 00:30:27,670
물론 저도 이제 글씨가 써 가지고 이렇게 해가지고

648
00:30:27,670 --> 00:30:31,110
이렇게 무중단 으로 스캐너를 하는 방법이 있긴 하지만

649
00:30:31,110 --> 00:30:34,090
그 방법이 이렇게 뭔가 좀 나이 들어 보이지 않았어요

650
00:30:34,090 --> 00:30:37,550
어쨌든 계속해라 하더라도 한 개는 있잖아요

651
00:30:37,550 --> 00:30:39,910
그래서 저는 이제 스캐럽 보다는

652
00:30:39,910 --> 00:30:42,620
그냥 상승보다는 수평확장 이 더 좋지 않을까

653
00:30:42,620 --> 00:30:44,530
그리고 가끔씩 보면 이런 거 있죠

654
00:30:44,530 --> 00:30:47,900
프로모션 해 가지고 여러분들이 지구의 서비스가 대표님

655
00:30:47,900 --> 00:30:52,530
이제는 기획에서 이번에 몸과 기가 막힌 기억에서

656
00:30:52,530 --> 00:30:54,770
요번에 막 딱 일주일 동안

657
00:30:54,770 --> 00:30:56,670
평상시 한 20개 정도 뻥튀기 할 것 같아

658
00:30:56,670 --> 00:30:59,590
근데 그 때 대비해서 그걸 위해서 스캐럽 확인

659
00:30:59,590 --> 00:31:03,980
좀 다시 사우나 게 전혀 수평확장 한 거는

660
00:31:03,980 --> 00:31:09,370
축사기도 훨씬 더 쉽지 않냐

661
00:31:09,370 --> 00:31:13,120
테러블 보다 SK 하게 이렇게 대비라는 타보니까

662
00:31:13,120 --> 00:31:14,730
나중에 트래픽이 갑자기 내려 가지고

663
00:31:14,730 --> 00:31:16,900
특정시간에만 늘렸다가 줄였다

664
00:31:16,900 --> 00:31:21,080
하는 것들이 굉장히 뭔가 편하겠죠

665
00:31:21,080 --> 00:31:24,420
저는 이제 대부분의 이젠 그 아마 여기 운영하시면서

666
00:31:24,420 --> 00:31:28,440
뒤는 이제 그냥 하나만 시켜 놔 H&R 위해서

667
00:31:28,440 --> 00:31:32,250
어떻게 이런 거 같아서 때문에 하는데

668
00:31:32,250 --> 00:31:36,990
대부분 이제 그 상태로 그냥 안스시 그냥 그만두고 그냥 드시고

669
00:31:36,990 --> 00:31:41,190
계세요 근데 이렇게 하면 돼 아쉽잖아요 비 오는데

670
00:31:41,190 --> 00:31:43,600
그동안 놀고 있었던 리플리카 를

671
00:31:43,600 --> 00:31:46,340
좀 제대로 활용하기 되니까 아까 맛있는 것

672
00:31:46,340 --> 00:31:48,200
좀 사 드리고

673
00:31:48,200 --> 00:31:50,780
그리고 지난 시간이 좀 안 쓰던

674
00:31:50,780 --> 00:31:52,450
자원을 좀 잘 쓸 수 있다는 점에서

675
00:31:52,450 --> 00:31:55,770
굉장히 만족도가 높은 작업이었습니다

676
00:31:55,770 --> 00:32:01,730
물론 되게 긴 테니스치마녀 그냥 네 이제 좀 빠르게 신는데

677
00:32:01,730 --> 00:32:03,330
재발표 없고요

678
00:32:03,330 --> 00:32:09,870
혹시 질문 있으면 지금 왔더라고 뒤에 마이크 내
