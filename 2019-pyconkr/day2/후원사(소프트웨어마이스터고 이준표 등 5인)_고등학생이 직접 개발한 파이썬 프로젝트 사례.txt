안녕하세요? 이번 시간에는 이준표, 안우진, 장민석, 예두해, 인상민 님께서 고등학생이 직접 개발한 파이썬 프로젝트 사례라는 제목으로 40분만 발표해주시겠습니다. 원활한 발표를 위해 질의응답은 시간이 남으면 진행하도록 하겠습니다. 그럼 이준표 님부터 시작하도록 하겠습니다. 큰 박수 부탁드립니다.
(박수)
-(이준표) 안녕하세요? 저희는 소프트웨어마이스터고 3기 학생들입니다. 오늘은 파이썬을 공부하고 프로젝트를 진행하면서 말하고 싶었던 내용들을 공유하고 싶었던 내용들을 얘기해보려고 합니다. 첫 번째 발표를 맡게 되었고 셀레니움 손 안 대고 크롬 사용하기 발표를 하게 된 광주 소프트웨어마이스터고의 이준표라고 합니다.
(박수)
여기 계신 모든 분들이 웹페이지 많이 사용하실 거고요. 매우 많은 웹페이지가 존재합니다. 이런 웹페이지에는 정말 방대한 데이터들이 존재하죠. 근데 방대한 데이터 중에서 필요한 데이터만 추출해내는 행위를 크롤링이라고 부를 수 있습니다. 파이썬으로 크롤링하는 방법이 여러 가지가 있는데요. 그중에서 오늘 셀레니움에 대해 다뤄보려고 합니다. 맨 위에 보이는 문장이 셀레니움 공식 홈페이지에 있는 것을 가져온 건데요. 간단히 해석해보면 셀레니움은 어플리케이션 테스팅 용도로 많이 사용되지만 어떻게 사용하는지에 따라 달라질 수 있다는 것인되가 사파리, 오페라, 크롬 등 다양한 브라우저, 다양한 것들을 지원합니다. 그래서 오늘 파이썬으로 셀레니움 실제로 사용해볼 거고요. 개발자 도구를 볼 줄 아는 모든 사람들이 크롤링을 할 수 있고 파이썬에 대한 기본적인 것만 알면 다양한 형태로 가공할 수 있도록 준비를 했으니 들어주시면 감사하겠습니다.
먼저 셀레니움 이용하여서 크롤링 하기 전에 기본적인 사용 방법을 간단히 알아보고 넘어가도록 하겠습니다.
설명하기에 앞서서 셀레니움은 자체적으로 브라우저가 존재하지 않습니다. 그렇기 때문에 브라우저 버전에 맞는 드라이버가 필요합니다. 저는 크롬, 크롬 드라이버를 사용하겠습니다. 기본적으로 사용할 드라이버를 가져온 다음에 페이지를 로딩합니다. 그다음 파인드리딩을 해서 찾고 싶은 것을 찾고 센드키를 사용해서 실제로 타이핑할 수 있고 클립, 전 페이지, 앞 페이지 등 여러 가지 기능을 가질 수 있는데요. 이렇게 코드들을 실제로 실행해보시면 브라우저가 실행이 되고 저희가 작성한 코드에 맞게 할 수 있습니다. 그런데 셀레니움에는 테트리스 모드가 있는데요. 창이 없는 모드라는 뜻으로 이렇게 옵션을 따로 지정을 하고 만들어주면 백그라운드에서 동작할 수 있게 됩니다. 셀레니움 파인드, 샌드, 클립 등 다양한 것들을 이용해서 인스타그램에 자동으로 로그인하는 것. 이제부터 실제로 크롤링을 해서 세 가지 형태로 해보도록 하겠습니다.
다음은 모 회사의 택배 조회 페이지인데요. 다음 페이지에서 번호를 입력하고 버튼을 클릭해서 아래 이미지 저장하는 것입니다. 간단한 코드로 할 수 있는데요. 앞으로 세 가지 형태의 각 데이터 형태를 다루면서 URL 라이브러리, 장고 세 가지 추가적으로 사용이 됩니다. 깊게 다루진 않고 사용하는 부분만 다룰 예정이니 양해 부탁드립니다.
인스타그램 코드에서 보았듯이 똑같습니다. 그런데 여기에서 선밋이 아니라 클릭 메서드를 사용한 이유는 로그인폼을 보시면 비밀번호 입력하고 엔터 눌렀을 때 다음 페이지로 넘어가는지 안 넘어가는지에 따라 구분이 되는데 엔터를 눌렀을 때 넘어간다, 그러면 썬밋을 사용할 수 있고요. 그러지 않은 경우에는 따로 클릭 버튼을 찾아서 클릭을 해줘야 합니다. 그다음으로 셀레니움에는 겟어트리뷰트라는 메서드가 있습니다. 개체를 속성을 가져오는 메서드인데요. 다음 코드에서는 사진의 SRC 속성을 가져와서 URL 라이브러리로 저장을 하는 코드였습니다.
다음 엑셀 파일인데요. 역시나 네이버 택배 조회입니다. 그런데 이전 페이지와 차이가 있다면 똑같이 운송장 번호와 조회 버튼을 클릭해야 하지만 택배사를 드롭 박스에서 골라야 합니다. 드롭 박스에서 하나의 개체를 선택하는 방법을 알아보려고 합니다.
여기서 중요한 부분은 다음 줄인데요. 셀레니움의 웹드라이버에 소프트라는 부분에 셀렉트라는 것이 있습니다. 그것을 인폴트해주고 드롭박스 창을 찾고 셀렉스에 있는 셀렉트바이 메서드를 사용을 하여서 선택을 하는 부분인데요. 다음 보시면 아시겠지만 실제 드롭박스에 있는 실제 밸류값을 이용해서 선택하는 코드였고요. 아래쪽에 보시면 클릭 다음 줄에 이름에서 알 수 있듯 웨이트 기능을 하는 메서드가 있습니다. 다들 조회랑 관련된 페이지를 떠올려보시면 버튼을 눌렀을 때 바로 조회되는 것도 있지만 로딩 시간이 걸리는 페이지도 있습니다. 다양한 웹페이지들이 존재하기 때문이죠. 만약 페이지 로딩되지 않았는데 크롤링 시도한다면 데이터는 넘어오지 않습니다. 그것을 방지하고자 지정한 시간 만큼 로딩될 때까지 기다려주겠다는 의미를 가진 거고요. 다음 줄은 간단하게 와서 리스트 형태로 저장한 다음 데이터 프레임이라는 형태로 변환한 후 투엑셀 메서드를 통해 그림과 같은 엑셀 파일로 저장하는 모습입니다. 마지막으로 네이버 뉴스 실시간 IT 분야 뉴스 순위에 따라서 크롤링을 해오고 그것을 디장고orl에 저장한 다음 실제 탬플릿으로 서버를 동작시켜서 띄워보려고 합니다. 간단하게 사용되는 명령어들만 짚고 넘어갈 테니 다시 한번 양해 부탁드릴게요. 어플리케이션 만든 다음 실제 데이터 저장한 모델을 만들어줍니다.
그다음 저희가 만든 어플리케이션을 프로젝트에 추가해준 후 어플리케이션을 마이그레이션해줍니다. 그다음 슈퍼 유저를 추가하고 장고에서 크롤링 코드를 사용할 건데 마지막 포문을 보시면 만들었던 모델 한줄한줄 포문을 실행하면서 데이터를 바로 집어넣는 것을 볼 수 있고요. 이렇게까지 작업을 한 후에 서버를 켜고 어드민 들어가면 뉴스라는 부분이 포함이 돼 있는 걸 볼 수 있는데요. 저희의 목표는 탬플릿으로 띄우는 것입니다. 그래서 탬플릿 제작을 해주어야 하는데 그대로 놓기는 어려움이 있어서 따로 올려놨으니 참고해주시고 간단하게 디자인을 해준 탬플릿 형태입니다. 다음으로 리스트 URL 들어갔을 때 다음과 같은 뷰를 우리가 만든 탬플릿을 경로로 지정할 수 있게 설정을 해준 다음 서버를 실행시키고 들어가면 다음 그림과 같이 맞는 탬플릿에 맞게 결과가 나옵니다.
지금까지 셀레니움 손 안 대고 크롬 사용하기라는 주제를 가지고 발표를 했는데요. 많은 분들이 따라하실 수 있게끔 쉽게 준비를 했으니 한 번씩 코드를 다시 볼 기회가 생긴다면 셀레니움을 통해 많은 분들이 셀레니움을 통해 크롤링 해보는 기회가 있었음 좋겠습니다. 감사합니다.
(박수)
-이어서 대구 소프트웨어마이스터고등학교의 안우진, 장민석이 만든 파이썬을 활용해서 리캡차 자동으로 통과해보는 프로그램을 만들어봤습니다. 개발하게 된 목적과 과정에 대한 소개를 하겠습니다. 프로그램 소개, 동기, 과정의 순서대로 발표를 하도록 하겠습니다.
여러분 리캡차는 다들 아실 거예요. 구글에서 개발한 리캡차는 사람과 기계를 구분하기 위한 자동화된 지능 테스트의 약자라고 하는데요. 여러 가지 취약점이라고 생각되는 것들을 저희가 분석해서 영상 구분이 기본이 되는, 영상 구분 방식을 사용해서 리캡차를 뚫을 수 있을 거라고 아이디어를 생각하게 돼서 만들게 되었습니다.
일단 기본적으로는 파이썬과 머신러닝을 공부하기 위한 목적으로 만들어졌고 추가로 나아가서 이런 식으로 인공 지능 프로그램이 리캡차의 보완을 통과할 수 있다는 리캡차의 보완에도 문제점을 제기할 수 있을 것이라는 추가적인 목적도 있고요. 이렇게 해서 저희는 이렇게 개발을 시작했습니다.
일단 개발 시작에 앞서 뚫어야 하는 리캡차에 대해 분석을 해봤는데요. 제한이 없는 새로고침과 한정적인 키워드 그리고 마우스 움직임을 관찰한다는 이런 점을 들어서 저희가 이런 플로우에 맞게 프로그램을 짜도록 하였습니다.
개발 과정입니다.
저희가 리캡차 테스트 요구되는 상황인지 확인을 하고 그에 따른 제시되는 키워드를 확인한 다음 영상을 분석하고 선택을 한 다음, 영상이 잘 처리되었는지 테스트 통과했는지 확인하는 식의 플로우로 진행됩니다.
영상을 화면 전체 영상을 캡처해서 영상을 분석하는 프로그램입니다. 저 밑에 보시는 로봇이 아닙니다라는 저 이미지를 화면 내에서 탬플릿 매칭 방식으로 찾아냅니다. 이렇게 찾아낸 좌표 등을 다른 프로그램에 전송해줘서 이렇게 프로그램 여러 개가 데이터를 공유해가면서 이용하는 것을 가지고 있습니다.
아까 제시되었던 로봇이 아닙니다라는 버튼을 누르게 되면 아래와 같은 화면을 포함한 위의 문제가 뜨게 되는데요. 이 이미지를 찾은 후 이 이미지의 버튼에 해당하는 좌표와 가로 길이를 보고 좌표를 각각의 문제에 해당하는 좌표를 찾아내게 됩니다. 지시문으로 나눠 각각 분석을 합니다. 각각 이미지를 전처리할 필요가 있습니다. 오른쪽 아래 보시면 4x4 형태의 이미지는 영상을 하나로 합해주어야 할 필요가 있고 각각의 타일로 나눠지는 3x3의 저 타일에서는 각각의 이미지를 따로 따로 다른 이미지로 저장해줘야 할 필요가 있습니다.
각각의 이미지를 저장하고 지시문에 해당하는 이미지를 OCR 프로그램을 사용해서 키워드를 뽑아내고 그 키워드에 맞는 라벨에 해당하는 모델을 사용해서 이미지를 찾는 모드로 전환합니다.
-리캡차가 찾으라고 제시한 클래스를 찾기 위해 사용한 모델은 마스크RCEN이고요. 다른 모델은 오브젝트 디텍션을 박싱으로 해서 정확한 물체의 위치보다는 대략적인 물체의 위치를 찾아주기 때문에 마스크RCEN의 정확한 위치를 찾기 위한 것이 더 적합하다고 판단되어 사용했습니다. 하지만 단점으로 정확한 위치를 찾아주는 대신 속도가 다른 모델에 비해 5, 6배 정도 느립니다. 4x4 타일이 하나의 이미지로 확정된 것을 마스크RCNN 모델을 사용해서 보면 찾아주고 이것을 각각에 해당하는 타일들을 선택하고 확인을 누르면 리캡차 테스트를 통과하게 됩니다.
그리고 3x3 타일의 경우에는 개별적으로 이미지가 저장돼 있기 때문에 개별적인 탐색을 실행할 필요가 있습니다. 지금 이 제시문에서는 주차 요금 정산기를 찾으라고 돼 있는데요.
이렇게 보시면 저 왼쪽 중간에 주차 요금 정산기가 있는데 한 번에 찾아내지 못 하는 것을 볼 수 있습니다. 그렇기 때문에 개별적인 탐색을 위해 이미 찾아내지 못한 것들 중에서 따로 따로 확대해서 탐색을 시도하여 추가로 탐색되는 것을 확인합니다.
그리고 전체 이미지에서 찾아냈던 마스크와 병합해서 2번, 4번, 8번 타일을 선택해주면 통과할 수 있습니다.
감사합니다.
(박수)
-이어서 대구 소프트웨어고등학교의 신상호, 예두해, 장민석이 준비한 발표 시작하도록 하겠습니다.
우선 팀원 소개, 개발 동기, 기능 이런 순으로 진행되고 기술적인 부분을 뺐기 때문에 발표가 짧다는 점 양해 부탁드리고 발표를 시작하겠습니다.
우선 팀원으로는 저희 이렇게 팀원이 있습니다. 자세히 말하면 팀원을 잘 표현한 캐릭터입니다. 전부 개발 부분을 맡았고 각자 다른 기술에 대한 개발을 했기 때문에 상세하게 설명하면 시간이 길어져서 어쩔 수 없이 이렇게 개발로 다 표현됐다는 점.
그리고 우선 개발 동기 같은 경우에는 팀원 말고 저 같은 경우에는 미리 전부터 스마트 미러를 개발하고 있었습니다. 한 달 전에 파이콘에 참여해야 된다는 소식을 듣고 한 달 동안 너무 심심해서 기능을 더 넣자 해서 추가로 넣게 되었습니다.
개발 도구로는 서브라임텍스트, 리눅스 기반에서 사용할 수 있는 Vim을 사용했습니다. 사용한 언어로는 파이썬이고요. 그리고 사용한 플랫폼은 라즈베리파이3입니다. 그리고 기능 같은 면은 기본적으로 날씨, 시간, 스케줄, 유튜브 시청, 뉴스, 마지막으로 핵심 기능인 상비의약품 추천이 있습니다.
이것은 기본적인 기능이고 추가로 좀 더 기능이 있긴 하지만 대표적인 기능을 예로 말씀드리는 것입니다.
발표는 이렇게 끝났고요. 그다음에 자세한 설명이 있는데 기술적인 부분은 발표가 끝나고 저희 부스에 찾아오시면 좀 더 자세히 잃어버린 8분에 대해 자세히 설명해드리겠습니다. 감사합니다.
(박수)
-안녕하세요? 저 지금 사실 매우 당황스러워요. 원래 발표를 한 팀당 10분씩 해서 저는 10분 발표를 맡아서 10분치 자료를 가져왔거든요. 어떡하죠?
-파이팅!
-네, 해보겠습니다... (웃음)
네, 저는 파이썬에서 비동기를 구현하는 다양한 방법들에 대해 소개할 인상민이라고 합니다. 저는 현재 대덕 소프트웨어마이스터고 재학 중에 있고요. 백앤드 인터뷰로 일하고 있습니다. 이렇게 네 가지 발표하려고 했어요. 비동기 프로그램이 무엇인지부터 코르틴, 높은 데부터 낮은 데까지 착착착 발표하려고 하였으나 엄청난 소식을 들었죠. 한 팀당 10분밖에 발표 시간이 안 주어진다고 하시길래, 그렇게 되면 비동기 프로그래밍도 못하고 발표가 끝날 것 같아서 피벗을 했어요. 피벗을 해가지고 파이썬의 비동기 시식해보기로 잡았고요.
원래 피벗을 안 했어도 됐을 텐데 약간 아쉽네요.
그래서 저는 파이썬의 비동기 시식해보기란 주제로 간단하게 비동기가 어떤 건지 그리고 파이썬에서 비동기가 어떻게 사용되는지, 그렇게 소개하고자 합니다.
비동기란? 먼저 소개를 할게요. 왼쪽에 보이는 건 제가 진짜 좋아하는 신전떡볶이의 치즈떡볶이예요. 오른쪽에는 진짜 싫어하는 블랙라벨이란 수학 문제집이죠. 할 일이 두 가지 생겼어요. 하나는 왼쪽에 있는 신전떡볶이를 배달로 주문해서 먹는 일이고 오른쪽에 있는 문제집 20쪽 풀어야 해요. 어떻게 하면 효율적으로 처리할 수 있을까요? 세 가지 방법을 제시할게요.
하나는 블랙라벨을 다 푼 다음에 그다음에 떡볶이를 주문해서 먹는다. 그리고 두 번째 방법은 떡볶이를 먼저 주문해서 배달오면 먹고 그다음에 블랙라벨을 푼다. 그리고 마지막 방법은 이렇게. 떡볶이를 먼저 주문을 해요. 주문한 다음에 배달오기 전까지는 블랙라벨을 풀고 블랙라벨 풀다 떡볶이 오면 먹고, 그리고 마지막으로 블랙라벨 나머지를 푸는 이런 세 가지 방법이 있는데 당연히 세 번째 방법이 가장 효율적입니다.
이것에 대해 그림으로 타임라인으로 그려봤거든요. 보여드릴게요. 이렇게 타임라인이 있어요. 시간은 왼쪽에서 오른쪽으로 흐르고 위에 있는 선은 제가 하는 일, 제가 하고 있는 일이고, 아래쪽은 떡볶이 집에서 하는 일이에요. 먼저 첫 번째 방법을 선택하게 되면 저는 블랙라벨을 먼저 풀겠죠? 블랙라벨을 한 40분 동안 푼다고 할게요. 40분 풀고 10분 동안 주문을 해요. 주문을 하면 떡볶이 집에서 만들고 배달이 오겠죠. 배달 오는 데까지 30분 걸리는데 30분이 걸리고, 그다음에 저는 떡볶이를 먹게 돼요.
그런데 여기 30분 동안 쉬는 동안 아무 일도 하지 않아서 시간적인 낭비가 발생하게 됩니다. 두 번째 방법도 똑같아요. 떡볶이 시키고 받기까지는 제가 아무것도 하지 않기 때문에 시간이 낭비되고 비효율적이다라는 거고요.
마지막 방법으로하게 되면 어떻게 효율적으로 되냐면 떡볶이를 시킨 다음에 떡볶이 오기 전까지 아무 일도 안 하는 시간 동안 블랙라벨을 어느 정도 푼 다음에 그다음에 떡볶이를 먹고 나머지 블랙라벨을 풀게 되면 확실히 길이적으로 효율적, 빠르게 처리한 걸 볼 수 있어요. 이거를 한 번 코드로 표현해봤어요. 이건 떡볶이 집의 소스예요. 떡볶이 집, 아, 떡볶이 집을 표현할 서버예요. 네.
만약에 리퀘스트를 받게 되면, 리퀘스트 받는 게 주문을 받는 걸 리퀘스트 받는다고 표현했어요. 배달이 완료됐다는 걸 리스폰스. 떡볶이 만들 때 3초가 걸려요. 아, 만들어져서 배달하는 데 3초 걸리고 어떤 리퀘스트든지 3초 뒤에 떡볶이가 배송이 나가게 돼요. 그리고 혹시 보이시나요?
네... (웃음) 소스가 조금 길어서 작아 보이는데 보게 되면 메인 펑션 먼저 볼게요. 메인 펑션에는 이츠떡볶이랑 소울 블랙라벨. 위에 겟타임이라는 건 로그를 찍어주기 위해서 현재 프로그램이 시작된 지 몇 초 되었는지 확인해주기 위한 함수고요. 이트 떡볶이로 갈게요. 오더 떡볶이라고 주문을 해요. 주문할 때 보면 신전 떡볶이 주문이라고 해놓고 다음 줄에 슬립이 있잖아요. 이건 주문할 때 걸리는 시간을 표현했고, 주문을 완료되면 떡볶이 리퀘스트를 보내요. 실질적인 주문이 들어가는 거죠. 리스폰스 되면 배달 완료. 그다음에 이트 떡볶이로 돌아와서 신전 3초 동안 먹을 거예요. 블랙라벨은 40초, 아, 4초로 했어요. 20문제를 4초에 풀어야 되니까 포문을 돌리면서 한 쪽당 0.2초씩 해서 20번을 돌릴 거예요. 이렇게 해서 이게 동기적인 방법이에요.
이게 두 번째 방법인 동기적인 방법입니다. 이거를 영상으로 한번 시뮬레이션 로그 찍히는 걸 확인해볼게요. 보게 되면 파이썬을 실행했고요. 주문을 했고 주문이 됐어요. 근데 떡볶이가 만들어지는 동안 아무것도 안 하게 되죠. 다 먹은 다음에 블랙라벨을 20쪽을 다 풀었습니다. 11초 걸렸어요.
그다음에 이거를 이 소스를 세 번째 방법인 비동기적인 비동기 코드로 바꿔볼게요. 비동기 코드로 바꾸면 뭔가 새로운 친구들이 많이 생겼어요. 인포트할 때 이 친구도 생겼고 함수 디파인할 때 앞에 어싱크란 친구도 생겼고요. 중간중간 보면 어윗이란 키워드도 있고 어싱크.. 이게 각각 어떤 건지에 대해서는 조금 뒤쪽에 설명하게 되고, 로직은 똑같아요. 메인에서 잇 떡볶이와 블랙라벨 같이 해요. 블랙라벨을 한 다음에, 실행을 시켜요.
그래서 이트 떡볶이에 들어가서 주문을 하고 그다음에 떡볶이를 먹고 솔브 블랙라벨 가서도 또 전과 똑같이 문제를 풀게 될 거예요. 이거를 한 번 돌려볼게요. 돌렸을 때 신전 떡볶이 주문이 있고 주문 됐을 때 블랙라벨을 풀게 되죠. 이렇게 해서 총 8초 걸렸어요.
떡볶이 집에서 만드는 동안 저는 블랙라벨을 푸는 일을 했기 때문이죠.
여기서 실제적인 파이썬 코드에서 실제적인 프로그래밍에서 사용될 때에는 떡볶이 주문하는 방법을 주문하는 시간을 파이 입출력이나 서버 회사가 리퀘스트를 보냈는데 리스폰스 받기 전까지의 작업으로 대체하시면 돼요. 아이오블락팅 걸리는 부분을 생각하시면 됩니다. 주문하고 오기 전까지 블랙라벨을 풀기 때문에 빠르게 일이 진행되는 걸 확인할 수 있죠.
여기 보면 어싱크아이오, 어싱크어웨이 이렇게 키워드들이 생겼죠. 원래 이걸 시간이 길다면 하나하나 설명하려 했는데 10분을 잡고 발표 자료를 만들어서 간략하게 할게요. 어싱크라는 친구는 코르틴을 정의하기 위한 키워드예요. 코르틴은 맨 아랫줄 봐주세요. 함수 호출, 내부 함수 데이터를 주고받을 수 있는 특별한 함수예요. 이 말은 이 코드에서 보게 되면 어싱크가 하나의 코르틴이죠. 하나의 코르틴이고 어웨잇은 뒤에 있는 코르틴이 결과값을 만들 때까지 기다리는 거예요. 그리고 어싱크아이오는 코르틴을 실행시키기 위한 이벤트루프를 가져와서 실행시키는 모듈이죠. 코르틴은 오른쪽 아래 사진을 보면 메인에서 핑이라는 함수를 불렀어요. 그리고 메인에서 퐁이란 함수를 불렀고요. 그런데 그러면 메인 안에서 핑과 대화를 하는 거예요.
메인에서 핑으로 뭔가를 값을 보낼 수 있고 핑에서 메인으로 값을 보낼 수도 있는 거예요. 이렇게 통신이 가능한 그런 특별한 함수를 코르틴이라 합니다. 코르틴에 대해 참고 자료는 피피티에 있고요. 설명하려면 10분을 잡아야 돼서요. 이렇게 해서 코르틴 데이터가 왔다 갔다 합니다. 이게 이벤트 루프라는 거예요. 어싱크에서 논블락킹아이오 하기 위해 이벤트루프를 사용하는데 코르틴 함수들을 쌓아놔요. 이벤트루프에서 코르틴 실행시키면서 중간에 어웨이 키워드 걸리면 잠깐 그 일은 잠깐 빼두고 어웨이 키워드가 뒤에 있는 함수... 여기서 설명할게요.
여기서 잇 떡볶이를 볼게요. 잇 떡볶이가 하나의 코르틴이고 여기 안에 있는 오더 떡볶이도 하나의 코르틴. 함수 실행하게 되면 큐에다가 잇 떡볶이를 넣어요. 잇 떡볶이를 넣으면 그게 이벤트 루프에서 실행이 되겠죠. 어웨잇을 만나요. 어웨잇을 만나면 잇 떡볶이는 다른 곳에 둔 다음에 오더 떡볶이를 먼저 실행시키는 거예요. 오더 떡볶이 실행시키고 오더 떡볶이 안에 또 기다리는 부분이 있잖아요. 배달을 기다리는 부분에 다른 작업을 실행하는 거죠.
이렇게 해서 코르틴을 돌려서 어싱크, 비동기적으로 처리가 되고요.
쉽게 말하면 어웨이 키워드는 어웨잇 키워드 동안은 뒤에 있는 값이 올 때까지 기다리는. 기다리는 동안 다른 어싱크 펑션 코르틴들을 실행한다라는 것입니다. 네, 감사합니다. 생각보다 시간을 좀 적게 써가지고. 지금 발표했던 모든 팀에 대해서 각자 질문해주시면 감사하겠습니다.
(박수)
-발표를 해주신 소프트웨어마이스터고등학교 연사분들 감사합니다. 지금부터 질의응답 시간을 가지겠습니다. 궁금한 점 있으신 분들은 중앙 스탠딩 마이크 앞으로 나와서 질문해주시기 바랍니다.
-질문하실 때 네 팀 중에서 어느 발표자한테 질문하고 싶은지 먼저 말씀해주시면 감사하겠습니다.
-아까 캡차하신 발표자분께 질문이 있는데요. 처음에 주차 정산기 디텍션할 때 처음에 할 때 왼쪽 가운데 있는 게 디텍션 안 됐다 하셨는데 두 번째 할 때 확대해서 하니까 됐다고 하셨는데 그게 단지 이미지를 확장해서 다시 한번 돌린 건지 아니면 어떤 로직이 다른 건지 궁금합니다.
-가끔씩 리캡차에서 검은 점과 하얀 점이 섞여 있는 후추 이미지를 줄 때가 있습니다. 그래서 그런 것을 완화하기 위한 미디엄 필터 적용을 확대하는 과정에서 한 번 적용시키고 합니다.
-같은 파이써니스트분들한테 질문드리고 싶은데요. 같은 사진 속에서 한 장의 사진을 4:4로 나눈 거 있잖아요. 특정 행동, 소화전 같은 걸 고르라고 했을 때 애매하게 그 구간에 약간 남겨져 있는 그... 객체를 했을 때 약간씩 차이가 있는데 저 같은 경우에는 그런 거 블록까지 터치를 하면 아예 틀린 답으로 나와서 처음부터 다시 해야 된다고 나오더라고요. 근데 그 알고리즘은 약간 튀어나온 거에 대해서 어떻게 처리하는지 궁금합니다.
-일단 약간 튀어나온 건 리캡차 피셜로는 선택하지 않는 게 통과할 가능성이 높다고 하고요. 저희도 그래서 전체 픽셀에서 마스크가 그 타일에서 객체가 차지하는 영역이 100분의 5, 5% 미만일 땐 선택하지 않는 알고리즘을 사용했습니다.
-그리고 또 로봇이 많이 발달하니까 그 리캡차 측에서는 모자이크를 하거나 아니면 특정 사진에다가 블러 처리하는 등의 그런 로봇 바운지 수법을 사용하고 있는데요. 그런 경우에도 그 알고리즘이 정확한 결과를 보여주는지 궁금합니다.
-사실 지금 저희가 사용한 데이터셋이 오픈 데이터, 가져온 걸 그대로 러닝해서 사용한 것이라서 데이터셋이 기본적으로 아주 적습니다. 그래서 생각보다 정확도가 아주 높게 나오진 않고요. 그래서 몇몇 노이즈 처리나 블러 처리 같은 걸 위한 전처리 과정이 있긴 한데 높은 정확도를 기대하기는 힘듭니다.
-네, 감사합니다.
-저도 같은 리캡차 관련해서 질문을 하고 싶은데요. 세 가지가 있는데 시간 관련된 건데 졸업까지 얼마나 남으셨나요?
-이제 저희가 3학년 2학기... 아, 1학기 끝냈으니까. 다 3학년.
-이거 개발하시는 데 어느 정도 시간이 소요되셨나요?
-2주 동안 안들었습니다.
-2주요?
-네, 공부하면서.
-그리고 그러면 저걸 가지고 리캡차를 해보셨을 때 사람하고 비교했을 때 얼마 정도 퍼포먼스가 나오나요? 평균적으로 대체로 리캡차를 통과하는 데 걸리는 시간.
-시간 자체는 사람보다 오래 걸리는 15초. 마스크 사용했을 때 15초 걸리고 아까도 설명했지만 로직에 따라서 추가로 처리해야 되는 부분이 생겼을 때는 좀 더 오래 걸리기도 하고 어떨때는 짧게 걸리기도 합니다.
-평균적으로 15초 정도?
-네, 평균적으로 15초. 정확도는 데이터셋이 많이 있고 약간 분명한 경우에는 자동차나 신호등 같은 경우에는 아주 사람도 가끔 놓칠 수 있는 작은 것도 잘 탐색을 하는데 다른 라벨은 사람보다 잘 못 찾을 때도 있습니다.
-모델 문제다?
-그건 아닙니다. (웃음)
-그러면 지금 시간이 그만큼 나오는 데 있어서 제일 많이 시간을 잡아먹는 게 어느 쪽이라고 보시나요?
-OCR이 아마 대부분 시간을 잡아먹었던 걸로.
-OCR이 시간이 많이 걸린다는? 혹시 구글 비전 사용해보셨나요?
-아닙니다.
-감사합니다.
-혹시 더 질문 있으신가요?
그럼 세션 마무리하도록 하겠습니다. 지금까지 발표해주신 소프트웨어마이스터고 연사분들께 따뜻한 박수 부탁드립니다.
(박수)
지금부터 쉬는 시간 시작하도록 하겠습니다.
